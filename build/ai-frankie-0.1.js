!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.g)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.h=t()}}(function(){return function t(r,i,e){function n(s,h){if(!i[s]){if(!r[s]){var f="function"==typeof require&&require;if(!h&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var a=i[s]={exports:{}};r[s][0].call(a.exports,function(t){var i=r[s][1][t];return n(i||t)},a,a.exports,t,r,i,e)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)n(e[s]);return n}({1:[function(t,r,i){"function"==typeof Object.create?r.exports=function(t,r){t.i=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,j:!1,k:!0,l:!0}})}:r.exports=function(t,r){t.i=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],2:[function(t,r,i){function e(){a=!1,h.length?u=h.concat(u):c=-1,u.length&&n()}function n(){if(!a){var t=setTimeout(e);a=!0;for(var r=u.length;r;){for(h=u,u=[];++c<r;)h[c].m();c=-1,r=u.length}h=null,a=!1,clearTimeout(t)}}function o(t,r){this.p=t,this.q=r}function s(){}var h,f=r.exports={},u=[],a=!1,c=-1;f.o=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)r[i-1]=arguments[i];u.push(new o(t,r)),1!==u.length||a||setTimeout(n,0)},o.prototype.m=function(){this.p.apply(null,this.q)},f.title="browser",f.s=!0,f.t={},f.u=[],f.version="",f.v={},f.A=s,f.addListener=s,f.C=s,f.D=s,f.removeListener=s,f.F=s,f.G=s,f.H=function(t){throw new Error("process.binding is not supported")},f.I=function(){return"/"},f.J=function(t){throw new Error("process.chdir is not supported")},f.K=function(){return 0}},{}],3:[function(t,r,i){r.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.L&&"function"==typeof t.fill&&"function"==typeof t.M}},{}],4:[function(t,r,i){(function(r,e){function n(t,r){var e={V:[],X:s};return arguments.length>=3&&(e.Y=arguments[2]),arguments.length>=4&&(e.Z=arguments[3]),b(r)?e.$=r:r&&i._(e,r),x(e.$)&&(e.$=!1),x(e.Y)&&(e.Y=2),x(e.Z)&&(e.Z=!1),x(e.aa)&&(e.aa=!0),e.Z&&(e.X=o),f(e,t,e.Y)}function o(t,r){var i=n.ca[r];return i?"["+n.Z[i][0]+"m"+t+"["+n.Z[i][1]+"m":t}function s(t,r){return t}function h(t){var r={};return t.forEach(function(t,i){r[t]=!0}),r}function f(t,r,e){if(t.aa&&r&&D(r.ba)&&r.ba!==i.ba&&(!r.constructor||r.constructor.prototype!==r)){var n=r.ba(e,t);return m(n)||(n=f(t,n,e)),n}var o=u(t,r);if(o)return o;var s=Object.keys(r),b=h(s);if(t.$&&(s=Object.getOwnPropertyNames(r)),S(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return a(r);if(0===s.length){if(D(r)){var d=r.name?": "+r.name:"";return t.X("[Function"+d+"]","special")}if(C(r))return t.X(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.X(Date.prototype.toString.call(r),"date");if(S(r))return a(r)}var v="",y=!1,w=["{","}"];if(g(r)&&(y=!0,w=["[","]"]),D(r)){v=" [Function"+(r.name?": "+r.name:"")+"]"}if(C(r)&&(v=" "+RegExp.prototype.toString.call(r)),E(r)&&(v=" "+Date.prototype.toUTCString.call(r)),S(r)&&(v=" "+a(r)),0===s.length&&(!y||0==r.length))return w[0]+v+w[1];if(e<0)return C(r)?t.X(RegExp.prototype.toString.call(r),"regexp"):t.X("[Object]","special");t.V.push(r);var x;return x=y?c(t,r,e,b,s):s.map(function(i){return p(t,r,e,b,i,y)}),t.V.pop(),l(x,v,w)}function u(t,r){if(x(r))return t.X("undefined","undefined");if(m(r)){var i="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.X(i,"string")}return y(r)?t.X(""+r,"number"):b(r)?t.X(""+r,"boolean"):d(r)?t.X("null","null"):void 0}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,r,i,e,n){for(var o=[],s=0,h=r.length;s<h;++s)I(r,String(s))?o.push(p(t,r,i,e,String(s),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(p(t,r,i,e,n,!0))}),o}function p(t,r,i,e,n,o){var s,h,u;if(u=Object.getOwnPropertyDescriptor(r,n)||{value:r[n]},u.get?h=u.set?t.X("[Getter/Setter]","special"):t.X("[Getter]","special"):u.set&&(h=t.X("[Setter]","special")),I(e,n)||(s="["+n+"]"),h||(t.V.indexOf(u.value)<0?(h=d(i)?f(t,u.value,null):f(t,u.value,i-1),h.indexOf("\n")>-1&&(h=o?h.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+h.split("\n").map(function(t){return"   "+t}).join("\n"))):h=t.X("[Circular]","special")),x(s)){if(o&&n.match(/^\d+$/))return h;s=JSON.stringify(""+n),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.X(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.X(s,"string"))}return s+": "+h}function l(t,r,i){var e=0;return t.reduce(function(t,r){return e++,r.indexOf("\n")>=0&&e++,t+r.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===r?"":r+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+r+" "+t.join(", ")+" "+i[1]}function g(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function d(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function C(t){return M(t)&&"[object RegExp]"===j(t)}function M(t){return"object"==typeof t&&null!==t}function E(t){return M(t)&&"[object Date]"===j(t)}function S(t){return M(t)&&("[object Error]"===j(t)||t instanceof Error)}function D(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function j(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function k(){var t=new Date,r=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],r].join(" ")}function I(t,r){return Object.prototype.hasOwnProperty.call(t,r)}i.format=function(t){if(!m(t)){for(var r=[],i=0;i<arguments.length;i++)r.push(n(arguments[i]));return r.join(" ")}for(var i=1,e=arguments,o=e.length,s=String(t).replace(/%[sdj%]/g,function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch(t){return"[Circular]"}default:return t}}),h=e[i];i<o;h=e[++i])d(h)||!M(h)?s+=" "+h:s+=" "+n(h);return s},i.N=function(t,n){function o(){if(!s){if(r.P)throw new Error(n);r.R?console.trace(n):console.error(n),s=!0}return t.apply(this,arguments)}if(x(e.process))return function(){return i.N(t,n).apply(this,arguments)};if(r.O===!0)return t;var s=!1;return o};var q,H={};i.S=function(t){if(x(q)&&(q=r.t.T||""),t=t.toUpperCase(),!H[t])if(new RegExp("\\b"+t+"\\b","i").test(q)){var e=r.U;H[t]=function(){var r=i.format.apply(i,arguments);console.error("%s %d: %s",t,e,r)}}else H[t]=function(){};return H[t]},i.ba=n,n.Z={"bold":[1,22],"italic":[3,23],"underline":[4,24],"inverse":[7,27],"white":[37,39],"grey":[90,39],"black":[30,39],"blue":[34,39],"cyan":[36,39],"green":[32,39],"magenta":[35,39],"red":[31,39],"yellow":[33,39]},n.ca={"special":"cyan","number":"yellow","boolean":"yellow","undefined":"grey","null":"bold","string":"green","date":"magenta","regexp":"red"},i.isArray=g,i.da=b,i.ea=d,i.fa=v,i.ga=y,i.ha=m,i.ia=w,i.ja=x,i.ka=C,i.la=M,i.ma=E,i.na=S,i.oa=D,i.pa=O,i.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",k(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._=function(t,r){if(!r||!M(r))return t;for(var i=Object.keys(r),e=i.length;e--;)t[i[e]]=r[i[e]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,"_process":2,"inherits":1}],5:[function(t,r,i){"use strict";function e(t,r,i){this.qa=t||{},this.ra=r||{},this.name=i||"#"+o++}var n=t("./helper"),o=1;r.exports=e;e.prototype.clone=function(t){return new e(n.clone(this.qa),n.clone(this.ra),t)},e.prototype.sa=function(t){this.ra=t},e.prototype.toString=function(){var t="{"+this.name+" - ";for(var r in this.qa)t+=r+":"+this.qa[r].toFixed(2)+", ";return t.ta(", ")+"}"},e.prototype.ua=function(t){var r=0;for(var i in this.qa){var e=this.qa[i],n=t.qa[i];n<0!=e<0?n<0?(e-=n,n=0):(n-=e,e=0):(e=Math.abs(e),n=Math.abs(n));var o;o=0===n?e>1?1:e:0===e?n>1?1:n:1-(n>=e?e/n:n/e),r+=o}return r},e.prototype.get=function(t,r,i,e){void 0===i&&(i=null),void 0===e&&(e=null);var n=this.qa[t];if(n)return n;if(this.qa[t]=r,(i||e)&&(this.ra[t]=[i,e]),i&&e&&i>e)throw new Error("Limits are invalid: "+i+" > "+e);return r},e.prototype.va=function(){return JSON.stringify(this)},e.wa=function(t){var r=JSON.parse(t);this.qa=r.qa,this.ra=r.ra},e.prototype.xa=function(t,r,i,e,n){var o=this.qa,s=t.qa;r.sa(this.ra),i.sa(this.ra);var h=r.qa,f=i.qa,u=~~(Math.random()*o.length),a=~~(Math.random()*u),c=0;for(var p in o)c<a||c>u?(h[p]=o[p],f[p]=s[p]):(h[p]=s[p],f[p]=o[p]),Math.random()<e&&(h[p]=this.ya(p,h[p],n)),Math.random()<e&&(f[p]=this.ya(p,f[p],n)),c++},e.prototype.ya=function(t,r,i){var e,n=this.ra[t];if(n){var o=n[0],s=n[1];if(Math.random()<i)e=o+Math.random()*(s-o);else{e=r*(1+2*Math.random()*.05-.05),o&&e<o&&(e=o),s&&e>s&&(e=s)}}else e=r+10*(Math.random()-.5);return e},e.prototype.za=function(){for(var t in this.qa)this.qa[t]=this.ya(t,this.qa[t],1);return this}},{"./helper":11}],6:[function(t,r,i){"use strict";function e(t,r,i){if(void 0===r)throw new Error("Grid init value must be defined");this.Ca=t,void 0===i?this.Da=f.Ea(t+2,t+2,r):(this.Da=f.Ea(t+2,t+2,i),this.init(r))}function n(t){if(t===c)return"(BORDER)";if(t>=e.Ma)return String.fromCharCode("A".charCodeAt()+t-e.Ma);if(t<e.Oa||t>=e.Ka.length)throw new Error("Invalid color "+t);return t<0&&(t+=e.Ka.length),e.Ka[t]}function o(t){return n("number"==typeof t?t:t.color)}function s(t){for(var r="",i=t.length-1;i>=0;i--)r+=t[i];return r}var h=t("./constants"),f=t("./helper"),u=t("./Move"),a=u.Aa,c=h.Ba;r.exports=e,e.Fa="+",e.Ga="?",e.Ha="@O",e.Ia="&#",e.Ja="-:",e.Ka=e.Ha+e.Ia+e.Ja+e.Ga+e.Fa,e.La=e.Ga+e.Fa+e.Ka,e.Ma=100,e.Na=-1,e.Oa=-2,e.Pa=2,e.Qa=4,e.Ra=[0,0,-1,1,1,-1,-1,1],e.Sa="-'?.:",e.prototype.init=function(t){if(void 0===t)throw new Error("Grid init value must be defined");for(var r=this.Ca;r>=1;r--)for(var i=this.Da[r],e=this.Ca;e>=1;e--)i[e]=t},e.prototype.L=function(t){if(t.Ca!==this.Ca)throw new Error("Cannot copy between different sized grids");for(var r=this.Ca;r>=1;r--)for(var i=this.Da[r],e=t.Da[r],n=this.Ca;n>=1;n--)i[n]=e[n];return this},e.prototype.Ta=function(t){var r=t.grid;if(r.Ca!==this.Ca)throw new Error("Cannot copy between different sized grids");for(var i=this.Ca;i>=1;i--)for(var e=this.Da[i],n=r.Da[i],o=this.Ca;o>=1;o--)e[o]=n[o].color;return this},e.Ua=function(t){return e.La.indexOf(t)+e.Oa},e.prototype.Va=function(t){return this.Wa(!0,"\n",t||o)},e.prototype.Xa=function(t){return this.Wa(!1,",",t||o)},e.Ya=function(t){return t.indexOf(",")},e.prototype.Wa=function(t,r,i){var n,o,s,h=new e(this.Ca,"").Da,f=1;for(o=this.Ca;o>=1;o--)for(n=1;n<=this.Ca;n++)null!==(s=i(this.Da[o][n]))&&(h[o][n]=s,f=Math.max(f,s.length));var u=f,c="          ",p="";for(o=this.Ca;o>=1;o--){for(t&&(p+="%2d".format(o)+" "),n=1;n<=this.Ca;n++)s=h[o][n],s.length<u&&(s=c.substr(1,u-s.length)+s),p+=s;p+=r}if(t){for(p+="   ",n=1;n<=this.Ca;n++)p+=c.substr(1,u-1)+a(n);p+="\n"}return"\n"!==r&&(p=p.Za()),p},e.prototype.toString=function(){for(var t="",r=this.Ca;r>=1;r--){for(var i=1;i<=this.Ca;i++)t+=n(this.Da[r][i]);t+="\n"}return t},e.prototype.$a=function(){return"object"==typeof this.Da[1][1]?this.Xa(function(t){return n(t.color)}):this.Xa(function(t){return n(t)})},e.prototype._a=function(t){var r=t.split(/\"|,/);if(r.length!==this.Ca)throw new Error("Invalid image: "+r.length+" rows instead of "+this.Ca);for(var i=this.Ca;i>=1;i--){var n=r[this.Ca-i];if(n.length!==this.Ca)throw new Error("Invalid image: row "+n);for(var o=1;o<=this.Ca;o++)this.Da[i][o]=e.Ua(n[o-1])}},e.ab=function(t){return t.split(",").reverse().join()},e.bb=function(t){return t.split(",").map(s).join()},e.cb=function(t){return s(t)},e.eb=function(t){for(var r="",i=t.split(","),e=i[0].length-1;e>=0;e--){r+=",";for(var n=0;n<i.length;n++)r+=i[n][e]}return r.substr(1)}},{"./Move":8,"./constants":10,"./helper":11}],7:[function(t,r,i){"use strict";function e(t,r,i,e){this.gb=t,this.hb=[r],this.ib=i,this.color=r.color,this.jb=null,this.kb=null,this.lb=null,this.mb=e,this.nb=null,this.ob=this.pb=0}var n=t("./constants"),o=t("./log"),s=t("./Move"),h=s.fb,f=n.EMPTY;r.exports=e,e.prototype.qb=function(t,r,i){this.hb.length=0,this.hb.push(t),this.ib=r,this.color=t.color,this.jb=this.kb=this.lb=null,this.mb=i,this.ob=this.pb=0},e.prototype.clear=function(){for(var t=this.hb.length-1;t>=0;t--)this.hb[t].clear();this.gb.rb(this)},e.prototype.toString=function(t){if(0===t)return"#"+this.mb;if(1===t)return this.hb[0]+" x"+this.hb.length;for(var r,i="{group #"+this.mb+" of "+this.hb.length+" "+h(this.color)+" stones [",e=this.hb,n=0;r=e[n],n<e.length;n++)i+=r.sb()+",";return i=i.Za(),i+="], lives:"+this.ib,this.jb&&(i+=" MERGED with #"+this.jb.mb),this.lb&&(i+=" KILLED by "+this.lb.sb()),i+="}"},e.prototype.tb=function(){return this.hb.length&&this.hb[0].group===this},e.prototype.ub=function(){return this.toString()},e.prototype.vb=function(){return this.hb.map(function(t){return t.sb()}).sort().join(",")},e.prototype.wb=function(){for(var t,r=[],i=this.hb,e=0;t=i[e],e<i.length;e++)for(var n,o=t.xb,s=0;n=o[s],s<o.length;s++)n.color===f&&r.indexOf(n)<0&&r.push(n);if(r.length!==this.ib)throw new Error("Wrong life count for group");return r},e.prototype.yb=function(){for(var t,r=[],i=1-this.color,e=this.hb,n=0;t=e[n],n<e.length;n++)for(var s,h=t.xb,f=0;s=h[f],f<h.length;f++)s.color===i&&r.indexOf(s.group)<0&&r.push(s.group);return o.zb&&r.length,r},e.prototype.Ab=function(t){for(var r,i=-1,e=t.xb,n=0;r=e[n],n<e.length;n++)if(r.color===f){i++;for(var s,h=r.xb,u=0;s=h[u],u<h.length;u++)if(s.group===this&&s!==t){i--;break}}return o.zb,i},e.prototype.Bb=function(t){if(o.zb,this.hb.push(t),this.ib+=this.Ab(t),this.ib<0)throw new Error("Unexpected error (lives<0 on connect)");o.zb},e.prototype.Cb=function(t){if(o.zb,this.hb.length>1){if(this.ib-=this.Ab(t),this.ib<0)throw new Error("Lives<0 on disconnect")}else this.gb.rb(this),o.zb;if(this.hb.pop()!==t)throw new Error("Unexpected error (disconnect order)")},e.prototype.Db=function(t){if(--this.ib<=0)return this.Eb(t)},e.prototype.Fb=function(t){if(this.ib--,o.zb,this.ib<1)throw new Error("Unexpected error (lives<1 on attack by resucitated)")},e.prototype.Gb=function(t){this.ib++,o.zb},e.prototype.Hb=function(t,r){if(t.jb===this||t===this||this.color!==t.color)throw new Error("Invalid merge");o.zb,this.ib+=t.hb.length;for(var i,e=t.hb,n=0;i=e[n],n<e.length;n++)i.Ib(this),this.Bb(i);t.jb=this,t.kb=r,this.gb.Jb.push(t),o.zb},e.prototype.Kb=function(t){o.zb;for(var r,i=t.hb,e=i.length-1;r=i[e],e>=0;e--)this.Cb(r),r.Ib(t);this.ib-=t.hb.length,t.kb=t.jb=null,o.zb},e.prototype.Lb=function(t){for(var r=this.gb.Jb,i=r.length-1;i>=0;i--){var e=r[i];if(e.kb!==t||e.jb!==this)break;this.Kb(e),r.pop()}},e.prototype.Eb=function(t){if(o.zb,this.ib<0)throw new Error("Unexpected error (lives<0)");for(var r,i=this.hb,e=0;r=i[e],e<i.length;e++){for(var n,s=r.Mb(1-this.color),h=0;n=s[h],h<s.length;h++)n.Gb(r);r.Nb()}this.lb=t,this.gb.Ob.push(this),o.zb},e.prototype.Pb=function(){this.lb=null,this.ib=1;for(var t,r=this.hb,i=0;t=r[i],i<r.length;i++){t.Qb(this);for(var e,n=t.Mb(1-this.color),o=0;e=n[o],o<n.length;o++)e.Fb(t)}},e.Rb=function(t){for(var r=t.gb.Ob,i=r.length-1;i>=0;i--){var e=r[i];if(e.lb!==t)break;r.pop(),o.zb,e.Pb()}}},{"./Move":8,"./constants":10,"./log":13}],8:[function(t,r,i){"use strict";function e(t){switch(t[0]){case"B":return h;case"W":return f;default:return}}function n(t){return"B"!==t[0]&&"W"!==t[0]?t:"-"!==t[1]?t.substr(1):t.substr(2)}function o(t,r){var i=u.indexOf(t[0])+1,e=parseInt(t.substr(1,2));if(!i||isNaN(e)){if(r)return null;throw new Error("Illegal move parsed: "+t)}return[i,e]}var s=t("./constants"),h=s.Sb,f=s.Tb,u="abcdefghjklmnopqrstuvwxyz",a=["black","white"];i.Ub=e,i.Vb=n,i.Wb=function(t,r){return(r===h?"B-":"W-")+t},i.fb=function(t){return a[t]},i.Xb=o,i.Yb=function(t){var r=e(t);void 0!==r&&(t=n(t));var i=o(t,!0);if(!i){if("pass"===t||t.startsWith("resi"))return null;throw new Error("Illegal move parsed: "+t)}return void 0!==r?i.concat(r):i},i.Zb=function(t,r){return u[t-1]+r},i.Aa=function(t){return u[t-1]}},{"./constants":10}],9:[function(t,r,i){"use strict";function e(t,r,i,e){this.gb=t,this.ac=r,this.bc=i,this.color=e,this.group=null,this.xb=[],this.cc=[]}var n=t("./constants"),o=t("./Group"),s=t("./Move"),h=s.Zb,f=n.EMPTY,u=n.Ba,a=n.$b,c=n._b;r.exports=e,e.Ba=new e(null,-1,-1,u);var p=e.dc=[[0,1],[1,0],[0,-1],[-1,0]],l=e.ec=[[1,1],[1,-1],[-1,-1],[-1,1]];e.prototype.clear=function(){this.color=f,this.group=null},e.prototype.fc=function(){for(var t=this.gb.gc,r=c;r>=a;r--){var i=t[this.bc+p[r][1]][this.ac+p[r][0]];i.color===f&&this.xb.push(i),this.cc.push(i),i=t[this.bc+l[r][1]][this.ac+l[r][0]],this.cc.push(i)}},e.prototype.toString=function(){return this.color===f?this.sb():(this.color?"W":"B")+"-"+this.sb()},e.prototype.sb=function(){return h(this.ac,this.bc)},e.prototype.hc=function(){return this.ic().map(function(t){return t.sb()}).sort().join(",")},e.prototype.jc=function(){return this.color===f},e.prototype.kc=function(){return 2===this.xb.length},e.prototype.lc=function(){var t=this.gb,r=t.Ca-1;return t.mc(1===this.ac?2:r,1===this.bc?2:r)},e.prototype.nc=function(){return this.xb.length<=3},e.prototype.oc=function(){var t=this.gb.Ca,r=this.ac,i=this.bc;return Math.min(Math.min(r-1,t-r),Math.min(i-1,t-i))},e.prototype.pc=function(t){for(var r=this.xb.length-1;r>=0;r--){var i=this.xb[r];if(i.color===f)return!1;if(i.color!==t){if(1===i.group.ib)return!1}else if(i.group.ib>1)return!1}return!0},e.prototype.qc=function(t){for(var r=null,i=this.xb.length-1;i>=0;i--){var e=this.xb[i].group;if(e&&e.color===1-t&&1===e.ib){if(r)return!1;r=e}}if(!r)return!1;if(1!==r.hb.length)return!1;var n=r.hb[0];if(this.gb.rc()!==n)return!1;var o=this.gb.sc();if(!o||o.lb!==n||1!==o.hb.length)return!1;var s=o.hb[0];return s.ac===this.ac&&s.bc===this.bc},e.prototype.Nb=function(){this.color=f,this.group=null},e.prototype.Qb=function(t){this.group=t,this.color=t.color},e.prototype.tc=function(t){this.color=t;var r=this.Mb(t);0===r.length?this.group=this.gb.uc(this,this.vc()):(this.group=r[0],this.group.Bb(this));for(var i=this.Mb(1-t),e=i.length-1;e>=0;e--)i[e].Db(this);for(var n=1;n<r.length;n++)this.group.Hb(r[n],this)},e.prototype.wc=function(){this.group.Lb(this),this.group.Cb(this);for(var t=this.Mb(1-this.color),r=t.length-1;r>=0;r--)t[r].Gb(this);this.group=null,this.color=f,o.Rb(this)},e.prototype.Ib=function(t){this.group=t},e.prototype.Mb=function(t){for(var r=[],i=this.xb,e=i.length-1;e>=0;e--){var n=i[e];n.color===t&&r.indexOf(n.group)<0&&r.push(n.group)}return r},e.prototype.ic=function(){for(var t=[],r=this.xb,i=r.length-1;i>=0;i--){var e=r[i];e.color===f&&t.push(e)}return t},e.prototype.vc=function(){for(var t=0,r=this.xb,i=r.length-1;i>=0;i--)r[i].color===f&&t++;return t},e.prototype.xc=function(t,r){for(var i=0,e=this.xb,n=e.length-1;n>=0;n--)e[n].color===t&&(r&&r.push(e[n]),i++);return i},e.prototype.yc=function(t){for(var r=this.xb,i=r.length-1;i>=0;i--)if(r[i].group===t)return!0;return!1}},{"./Group":7,"./Move":8,"./constants":10}],10:[function(t,r,i){"use strict";function e(){this.zc=0,this.Ac=1,this.Ba=-99,this.EMPTY=-1,this.Sb=0,this.Tb=1,this.Bc=0,this.Cc=1,this.Dc=-1,this.NEVER=0,this.Ec=1,this.ALWAYS=2,this.$b=0,this._b=3,this.Fc=7,this.Gc=1,this.Hc=this.Ic=0,this.Jc=1,this.Kc=this.Lc=2,this.Mc=3,this.Nc=4,this.Oc=5,this.Pc=6,this.Qc=7,this.Rc=8,this.Sc=9,this.Tc=10,this.Uc=11,this.Vc=12,this.Wc="Japanese",this.Xc="Chinese",this.Yc=0,this.Zc=1}r.exports=new e},{}],11:[function(t,r,i){"use strict";function e(t){return"\n"!==t.slice(-1)?0:"\r\n"!==t.slice(-2)?1:2}i.$c=function(t){return t.name||t.toString().split(/ |\(/,2)[1]},i.clone=function(t){if(null===t||void 0===t)return t;var r;if(t instanceof Array){r=[];for(var i=0,e=t.length;i<e;i++)r[i]=t[i]}else{if("object"!=typeof t)throw new Error("clone called on "+typeof t);if("function"==typeof t.clone)return t.clone();r={};for(var n in t){var o=t[n];"function"!=typeof o&&(r[n]=o)}}return r},String.prototype.ta=function(t){if(void 0===t)return this.substr(0,this.length-e(this));var r=this.length-t.length;return this.substr(r)===t?this.substr(0,r):this.toString()},String.prototype.Za=function(t){if(void 0===t)t=e(this)||1;else if("number"!=typeof t)throw new Error("Invalid parameter type for String.count: "+typeof t);return this.substr(0,this.length-t)},String.prototype.startsWith||(String.prototype.startsWith=function(t){return this.substr(0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.substr(this.length-t.length)===t}),String.prototype.format=function(t){if("%"!==this[0])throw new Error("Invalid format: "+this.toString());var r,i=this.slice(1,-1),e=0,n=this.slice(-1);switch(n){case"d":case"x":var o=" ";"0"===i[e]&&(e++,o="0");var s=parseInt(i.substr(e));r=t.toString("x"===n?16:10);for(var h=s-r.length;h>0;h--)r=o+r;return r;case"f":var f="";if("+"===i[e]&&(e++,t>0&&(f="+")),"."!==i[e++])break;var u=parseInt(i.substr(e));return f+t.toFixed(u)}throw new Error("Unknown format: "+this.toString())},String.prototype._c=function(t,r){return this>=t&&this<=r},i.ad=function(t,r){for(var i=new Array(t),e=t-1;e>=0;e--)i[e]=r;return i},i.Ea=function(t,r,e){for(var n=new Array(t),o=n[0]=i.ad(r,e),s=t-1;s>=1;s--)n[s]=o.concat();return n},Array.prototype.bd=function(t){for(var r=this.length,i=0;i<t.length;i++){var e=t[i];this.indexOf(e)===-1&&this.push(e)}return this.length-r}},{}],12:[function(t,r,i){"use strict";function e(){this.level=NaN,this.dd=null,this.ed=o,this.fd=s,this.gd=h,this.ERROR=f,this.hd=u,this.jd=!1,this.zb=!1}var n=console,o=0,s=1,h=2,f=3,u=4;r.exports=e,e.prototype.kd=function(t){t!==this.level&&(this.level=t,this.debug=t<=o?this.ld:null,this.info=t<=s?this.md:null,this.warn=t<=h?this.nd:null,this.error=t<=f?this.od:null,this.fatal=t<=u?this.pd:null)},e.prototype.qd=function(t){this.dd=t},e.prototype.ld=function(t){this.rd(o,n.debug,t)},e.prototype.md=function(t){this.rd(s,n.info,t)},e.prototype.nd=function(t){this.rd(h,n.warn,t)},e.prototype.od=function(t){this.rd(f,n.error,t)},e.prototype.pd=function(t){this.rd(u,n.error,t)},e.prototype.rd=function(t,r,i){t<this.level||this.dd&&!this.dd(t,i)||r.call(n,i)}},{}],13:[function(t,r,i){"use strict";var e=t("./hh/Logger"),n=new e;n.kd(n.fd),r.exports=n},{"./hh/Logger":12}],14:[function(t,r,i){"use strict";var e=t("./Spacer"),n=t("./Savior"),o=t("./Hunter"),s=t("./Connector"),h=t("./Pusher"),f=t("./NoEasyPrisoner"),u=t("./Shaper"),a=function(){return[f,n,o,s,e,h,u]};r.exports=a},{"./Connector":15,"./Hunter":17,"./NoEasyPrisoner":18,"./Pusher":19,"./Savior":20,"./Shaper":21,"./Spacer":22}],15:[function(t,r,i){"use strict";function e(t){o.call(this,t),this.sd=this.td("infl",.07,.01,.5),this.ud=this.td("ally-1enemy",.33,.01,1),this.vd=this.td("ally-more-enemies",1.66,.01,3)}var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=t("./1g0/log"),f=t("./1g0/Move"),u=f.fb,a=n.EMPTY;s(e,o),r.exports=e,e.prototype.wd=function(t,r){return this.xd(t,r,this.color)+this.xd(t,r,1-this.color)},e.prototype.xd=function(t,r,i){for(var e,n,o,s,f,c=this.gb.mc(t,r),p=0,l=0,g=c.xb.length-1;g>=0;g--){var b=c.xb[g];switch(b.color){case a:continue;case i:p++,e?o?b.group!==o.group?f=b:s=b:b.group!==e.group?o=b:n=b:e=b;break;default:l++}}if(!o)return 0;if(4===p)return 0;if(3===p&&0===l&&e.group.ib>1&&o.group.ib>1&&(!f||f.group.ib>1))return 0;var d=f?3:2;if(2===d&&3===p){if(s){n=s;var v=e;e=o,o=v}e.ac!==o.ac&&e.bc!==o.bc||(e=n)}if(e.ac!==o.ac&&e.bc!==o.bc){if(0===this.yd(e,o,i))return 0;l++}var y;return y=0===l?this.sd/this.zd.map[r][t][i]:this.ud*d,h.debug&&(u(i),y.toFixed(3)),y}},{"./1g0/Move":8,"./1g0/constants":10,"./1g0/log":13,"./Heuristic":16,"util":4}],16:[function(t,r,i){"use strict";function e(t,r){this.Ad=t,this.name=this.constructor.name||s.$c(this.constructor),this.Bd=!!r,this.gb=t.gb,this.Ca=t.gb.Ca,this.zd=t.zd,this.Cd=t.Cd,this.Dd=t.Dd,this.Ed=new o(this.Ca,0,c),this.Fd=this.td("spaceInvasion",2,.01,4)}var n=t("./1g0/constants"),o=t("./1g0/Grid"),s=t("./1g0/helper"),h=t("./1g0/Stone"),f=n.Bc,u=n.ALWAYS,a=n.EMPTY,c=n.Ba,p=n.Sb,l=h.dc,g=n.$b,b=n._b;r.exports=e,e.prototype.Gd=function(){this.Bd?(this.color=this.Ad.Hd,this.Hd=this.Ad.color):(this.color=this.Ad.color,this.Hd=this.Ad.Hd)},e.prototype.Id=function(t,r){for(var i=this.Ad.color,e=this.Ed.Da,n=1;n<=this.Ca;n++)for(var o=1;o<=this.Ca;o++)if(!(t[n][o]<f)){var s=e[n][o]=this.wd(o,n,i);r[n][o]+=s}},e.prototype.td=function(t,r,i,e){return this.Ad.Jd.get(this.name+"-"+t,r,i,e)},e.prototype.Kd=function(t,r,i){return this.Cd.Ld().Da[r][t]*(i===p?1:-1)},e.prototype.Md=function(t,r,i){return o.Ra[2+this.Cd.Nd[1-i].Da[r][t]]*(i===p?1:-1)},e.prototype.Od=function(t,r){for(var i=2*t.hb.length,e=t.wb(),n=0,o=e.length-1;o>=0;o--)n+=e[o].vc();return i+=this.Fd*Math.max(0,n-1),r?i:i+this.Pd(t)},e.prototype.Pd=function(t){if(1===t.hb.length&&0===this.Qd(t.hb[0]))return 0;for(var r=0,i=t.yb(),e=i.length-1;e>=0;e--)i[e].ib>1||(r+=this.Od(i[e],!0));return r},e.prototype.Rd=function(t,r,i,e,n){if(0==n--)return 0;if(this.gb.mc(t,r).color!==a)return 0;var o=this.Md(t,r,e);if(o<=0)return 0;var s=l[i][0],h=l[i][1],f=l[(i+3)%4],u=f[0],c=f[1];return o+=this.Rd(t+s+u,r+h+c,i,e,n),o+=this.Rd(t+s-u,r+h-c,i,e,n)};e.prototype.Sd=function(t,r,i){for(var e=Math.max(0,this.Md(t,r,i)),n=g;n<=b;n++)e+=this.Rd(t+l[n][0],r+l[n][1],n,i,0);return e},e.prototype.Qd=function(t){var r=this.Ca,i=t.ac,e=t.bc;return Math.min(Math.min(i-1,r-i),Math.min(e-1,r-e))},e.prototype.Td=function(t,r){return[this.gb.mc(t.ac,r.bc),this.gb.mc(r.ac,t.bc)]},e.prototype.yd=function(t,r,i){var e=Math.abs(r.ac-t.ac),n=Math.abs(r.bc-t.bc);if(e+n===1)return 0;var o,s=1-i,h=0;if(1===e&&1===n){var f=this.Td(t,r),u=f[0],a=f[1];if(u.color===i||a.color===i)return 0;if(u.color===s&&h++,a.color===s&&h++,0===h)return 0;if(2===h)return 99;var c=u.color===s?a:u;return 0===this.Qd(t)||0===this.Qd(r)?1===this.Qd(c)?1:0!==c.xc(s)?1:0:1===this.Qd(c)?0!==c.xc(s)?1:0:1}if(e+n===2){if(o=this.gb.mc((t.ac+r.ac)/2,(t.bc+r.bc)/2),o.color===i)return 0;if(o.color===s)return o.group.ib;for(var p=o.xb.length-1;p>=0;p--)o.xb[p].color===s&&h++;return h>=1?1:this.Qd(t)+this.Qd(r)===0?0:.5}var l=this.Qd(t),g=this.Qd(r);if(e+n===3&&0===l&&0===g){for(var b=this.Ud(t,r),d=0,v=b.length-1;v>=0;v--)o=b[v],o.color===s&&(d+=o.group.ib),0!==o.xc(s)&&(d+=1);return d}return e+n},e.prototype.Vd=function(t,r,i){for(var e=this.gb.mc(t,r),n=[],o=e.xb.length-1;o>=0;o--){var s=e.xb[o];if(s.color===i&&s.group.pb<u)return s;s.color===a&&n.push(s)}for(var h=2,f=n.length-1;f>=0;f--)for(var c=n[f],p=c.xb.length-1;p>=0;p--){var l=c.xb[p];if(l!==e&&(l.color===i&&l.group.pb!==u)){var g=this.yd(e,l,i);if(!(g>=2)&&(h-=2-g)<=.5)return l}}return null},e.prototype.Wd=function(t,r,i){var e=this.Ca,n=0,o=0;if(1===t||t===e)o=1;else{if(1!==r&&r!==e)return null;n=1}var s=this.gb.mc(t+n,r+o);if(s.color===c)return null;for(s.color!==a&&(n=-n,o=-o);;){if(t+=n,r+=o,s=this.gb.mc(t,r),s.color===c)return null;if(s.color===i&&s.group.ib>2)return s.group}}},{"./1g0/Grid":6,"./1g0/Stone":9,"./1g0/constants":10,"./1g0/helper":11}],17:[function(t,r,i){"use strict";function e(t){o.call(this,t)}var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=t("./1g0/log"),f=t("./1g0/Move"),u=f.fb,a=f.Zb,c=n.ALWAYS,p=n.EMPTY;s(e,o),r.exports=e,e.prototype.Xd=function(t,r){for(var i=t.yb(),e=i.length-1;e>=0;e--){var n=i[e];if(!(n.ib>1)){var o=n.hb.length;if(o>=r)return!0;for(var s=n.yb(),h=s.length-1;h>=0;h--)if((o+=s[h].ib-1)>=r)return!0}}return!1};e.prototype.Yd=function(t,r){for(var i=0,e=0,n=0,o=t.xb.length-1;o>=0;o--){var s=t.xb[o];switch(s.color){case p:n+=.01;break;case r:n+=.01*(s.group.ib-1),s.group.ob===c&&(n+=2),i+=1e-4;break;default:if(s.group.ib>1)break;e+=s.group.hb.length}}return e+n+i},e.prototype.wd=function(t,r,i,e){void 0===e&&(e=1);for(var n,o=this.gb.mc(t,r),s=o.ic(),f=o.Mb(i),c=o.Mb(1-i),p=null,l=0,g=c.length-1;g>=0;g--)n=c[g],1===n.ib&&(this.Zd(n)&&!this.Xd(n,1)||(l+=this.Od(n)));var b=!1;for(g=c.length-1;g>=0;g--)if(n=c[g],2===n.ib&&!this.Xd(n,2)&&(0!==s.length||1!==f.length||2!==f[0].ib)){if(1===s.length&&0===f.length){var d=s[0].Mb(n.color);if(1!==d.length||d[0]!==n)continue;b=!0,h.debug&&u(i)}h.debug&&(u(i),a(t,r)),p?p.push(n):p=[n]}if(!p)return l;if(!b&&s.length<=1){var v=this.Yd(o,i);if(1!==v&&v<1.01)return 0;if(o.pc(i))return 0}this.gb.$d(t,r,i);for(var y=[!1,!1,!1],m=p.length-1;m>=0;m--)if(!this.Zd(p[m],e)){if(1===p.length){p.pop();break}y[m]=!0}this.gb._d();var w=this.ae(p,y);return h.debug&&(l||w)&&(u(i),a(t,r)),w+l},e.prototype.ae=function(t,r){switch(t.length){case 0:return 0;case 1:return r[0]?0:this.Od(t[0]);case 2:return r[0]||r[1]?r[0]&&r[1]?Math.min(this.Od(t[0]),this.Od(t[1])):r[0]?this.Od(t[1]):this.Od(t[0]):Math.max(this.Od(t[0]),this.Od(t[1]));case 3:var i=[this.Od(t[0]),this.Od(t[1]),this.Od(t[2])];if(!r[0]&&!r[1]&&!r[2])return Math.max(i[0],i[1],i[2]);var e=i.concat().sort(function(t,r){return t<r}),n=i.indexOf(e[0]);if(!r[n])return i[n];return i[i.indexOf(e[1])];default:throw new Error("Unexpected in Hunter#getMultipleChaseThreat")}},e.prototype.Zd=function(t,r){var i=t.wb();if(1!==i.length)throw new Error("Unexpected: hunter #1: "+i.length);var e=i[0];if(e.pc(t.color))return!0;var n=this.gb.$d(e.ac,e.bc,t.color),o=this.be(n,r);return this.gb._d(),h.debug,o},e.prototype.ce=function(t){for(var r=1-t.color,i=t.xb,e=i.length-1;e>=0;e--)if(i[e].color===r&&1===i[e].group.ib)return!0;return!1},e.prototype.be=function(t,r){var i=t.group;if(i.ib<=1)return!0;if(i.ib>2)return!1;if(this.ce(t))return!1;var e=t.ic();if(2!==e.length&&(e=i.wb()),2!==e.length)throw new Error("Unexpected: hunter #2");var n=e[0],o=e[1];h.debug;var s=1-i.color;return r=(r||1)+1,this.wd(n.ac,n.bc,s,r)>0||this.wd(o.ac,o.bc,s,r)>0}},{"./1g0/Move":8,"./1g0/constants":10,"./1g0/log":13,"./Heuristic":16,"util":4}],18:[function(t,r,i){"use strict";function e(t){o.call(this,t),this.de=null}var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=t("./1g0/log"),f=t("./1g0/Move"),u=f.Zb,a=n.Bc;s(e,o),r.exports=e,e.prototype.Id=function(t,r){this.de||(this.de=this.Ad.ee("Hunter"));for(var i=this.Ed.Da,e=1;e<=this.Ca;e++)for(var n=1;n<=this.Ca;n++)if(!(t[e][n]<a)){var o=i[e][n]=this.wd(n,e);0!==o&&(r[e][n]+=o)}},e.prototype.wd=function(t,r){var i=this.gb.$d(t,r,this.color),e=i.group,n=0;return h.debug&&u(t,r),1===e.ib?1===e.hb.length&&i.ic()[0].qc(this.Hd)?h.debug:(n=-this.Od(e,!0),h.debug):2===e.ib&&(h.debug,this.de.be(i)&&(n=-this.Od(e,!0),h.debug)),this.gb._d(),n}},{"./1g0/Move":8,"./1g0/constants":10,"./1g0/log":13,"./Heuristic":16,"util":4}],19:[function(t,r,i){"use strict";function e(t){o.call(this,t),this.fe=this.td("ally-infl",.03,.01,1),this.ge=this.td("enemy-infl",.13,.01,1)}var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=t("./1g0/log"),f=t("./1g0/Move"),u=f.Zb,a=n.Bc;s(e,o),r.exports=e,e.prototype.Id=function(t,r){for(var i=this.Ed.Da,e=1;e<=this.Ca;e++)for(var n=1;n<=this.Ca;n++)if(!(t[e][n]<a)){var o=i[e][n]=this.wd(n,e);r[e][n]+=o}},e.prototype.wd=function(t,r){var i=this.zd.map[r][t],e=i[this.Hd],n=i[this.color];if(0===e||0===n)return 0;if(!this.Vd(t,r,this.color))return 0;var o=this.Sd(t,r,this.color),s=o+this.ge*e-this.fe*n;return h.debug&&(u(t,r),"%.03f".format(s)),s}},{"./1g0/Move":8,"./1g0/constants":10,"./1g0/log":13,"./Heuristic":16,"util":4}],20:[function(t,r,i){"use strict";function e(t){o.call(this,t),this.de=null}
var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=t("./1g0/log"),f=t("./1g0/Move"),u=f.fb,a=f.Zb,c=n.Bc,p=n.ALWAYS;s(e,o),r.exports=e,e.prototype.Id=function(t,r){this.de||(this.de=this.Ad.ee("Hunter"));for(var i=this.Ed.Da,e=1;e<=this.Ca;e++)for(var n=1;n<=this.Ca;n++)if(!(t[e][n]<c)){var o=this.gb.mc(n,e),s=this.he(n,e,o);if(0!==s){h.debug;var f=i[e][n]=s;r[e][n]+=f}}},e.prototype.he=function(t,r,i){for(var e,n=0,o=[],s=0,f=null,c=i.Mb(this.color),l=0;e=c[l],l<c.length;l++)if(1===e.ib)o.push(e),n+=this.Od(e,!0);else if(2===e.ib){if(o.push(e),null!==f)continue;h.debug&&(u(this.color),a(t,r)),f=this.de.wd(t,r,this.Hd),n+=f}else e.pb<p&&(s+=e.ib-1);if(0===n)return 0;if((s+=i.vc())>2)return n;if(2===s)for(var g=i.ic(),b=o.length-1;b>=0;b--){e=o[b];for(var d=g.length-1;d>=0;d--)g[d].yc(e)&&s--}if(2===s){if(0===this.Qd(i))return h.debug&&(u(this.color),a(t,r)),this.Wd(t,r,this.color)?n:0;h.debug&&(u(this.color),a(t,r)),this.gb.$d(t,r,this.color);var v=this.de.be(i);if(this.gb._d(),!v)return n}return h.debug&&(u(this.color),a(t,r)),0}},{"./1g0/Move":8,"./1g0/constants":10,"./1g0/log":13,"./Heuristic":16,"util":4}],21:[function(t,r,i){"use strict";function e(t){o.call(this,t)}var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=n.ALWAYS;s(e,o),r.exports=e,e.prototype.Id=function(t,r){var i=this.Ed.Da,n=this.Cd.ie;for(var o in n){var s=n[o],f=s.nb;if(s.pb!==h&&1===f.je){var u=f.ke();if(u){var a=[];if(1===e.le(this.gb,u.ac,u.bc,u.me,a)){var c=a[0],p=a[1],l=i[p][c]=this.Od(s,this.color===s.color);r[p][c]+=l}}}}},e.le=function(t,r,i,e,n){if(e<=2)return 0;if(e>=7)return 2;var o=t.mc(r,i),s=o.ic();if(3===e){var h=1===s.length?s[0]:o;return n[0]=h.ac,n[1]=h.bc,1}return 4===e?3===s.length?(n[0]=o.ac,n[1]=o.bc,1):1===s.length?3===s[0].vc()?(n[0]=s[0].ac,n[1]=s[0].bc,1):2:2===s[0].vc()&&2===s[1].vc()?0:2:2}},{"./1g0/constants":10,"./Heuristic":16,"util":4}],22:[function(t,r,i){"use strict";function e(t){o.call(this,t),this.sd=this.td("infl",1,.5,3),this.ne=this.td("border",1,0,2)}var n=t("./1g0/constants"),o=t("./Heuristic"),s=t("util").inherits,h=n.EMPTY;s(e,o),r.exports=e,e.prototype.wd=function(t,r){var i=0,e=0,n=this.gb.mc(t,r),o=this.zd.map[r][t];i+=o[this.Hd],e+=o[this.color];for(var s=n.xb.length-1;s>=0;s--){var f=n.xb[s];if(f.color!==h)return 0;o=this.zd.map[f.bc][f.ac],i+=o[this.Hd],e+=o[this.color]}var u=i+e-3;u<0&&(u=0);var a=this.oc(t),c=this.oc(r),p=[0,.1,.8,1,.95,.8],l=p.length-1;a>l&&(a=l),c>l&&(c=l);var g=p[a]*p[c],b=this.Kd(t,r,this.color);return b>0&&(b=0),b+10*g*this.ne/(1+u*this.sd)},e.prototype.oc=function(t){return Math.min(t-1,this.Ca-t)}},{"./1g0/constants":10,"./Heuristic":16,"util":4}],23:[function(t,r,i){"use strict";function e(t){return"#"+t.mb}function n(t){return"#"+t.group.mb}function o(t,r,i,e,n){this.code=t,this.ac=r,this.bc=i,this.me=e,this.oe=n,this.pe=void 0,this.qe=void 0,this.re=!1}function s(t){return t?S[t]:S[0]}function h(t){for(var r=t.length-1;r>=0;r--)if(!t[r].nb.se)return!0;return!1}function f(t){this.Ge=t.group.mb,this.He=[t],t.Ie=this,t.Je.length=0}function u(t,r){this.Dd=r,this.Le=[],this.Je=[],this.ye=[],this.Ee=[],this.Me(t)}function a(){this.version="frankie",this.gb=null,this.Ze=[],this.$e=[0,0],this._e=[0,0]}function c(t){return t>1&&t<2?t-1+.01:t}function p(t){if(!(t[C]===t[M]||t[C]>=E&&t[M]>=E))return t[C]=c(t[C]),t[M]=c(t[M]),t[C]>t[M]?C:M}var l=t("../1g0/constants"),g=t("../1g0/Grid"),b=t("../1g0/log"),d=t("../1g0/Move"),v=t("../Shaper"),y=t("./ZoneFiller"),m=d.fb,w=d.Zb,x=l.EMPTY,C=l.Sb,M=l.Tb,E=1e3;r.exports=o;var S=["void","eye","fake-eye","dame"];o.prototype.te=function(){var t=h(this.oe[C]),r=h(this.oe[M]);if(!t&&!r)return void(this.pe&&!this.re&&this.ue());if(!t||!r){var i=t?C:M;if(!this.ve(i))return this.we(i)}},o.prototype.ve=function(t){if(this.pe&&2!==this.pe)return!1;if(this.me>1)return!1;var r=this.oe[t];if(r.length<2)return!1;for(var i=!1,e=r.length-1;e>=0;e--){var n=r[e].nb;1!==n.xe||n.ye.length||(b.debug,i=!0,n.ze(r,this))}return!!i&&(this.pe||(this.pe=2,this.qe=t),!0)},o.prototype.we=function(t){if(1!==this.pe||t!==this.qe){b.debug&&m(t),this.pe=1,this.qe=t;var r=this.oe[t];r.length>1&&f.Ae(r),r[0].nb.Be(this)}},o.prototype.Ce=function(){if(b.debug,void 0!==this.qe){for(var t=this.oe[this.qe],r=t.length-1;r>=0;r--)t[r].nb.De(this);this.qe=void 0}this.pe=3},o.prototype.ue=function(){if(void 0===this.qe)throw new Error("stolen eye of undefined owner");b.debug;for(var t=this.oe[this.qe],r=[],i=t.length-1;i>=0;i--){var e=t[i].nb;e.De(this),r.bd(e.Ee)}this.re=!0,this.pe=1,this.qe=1-this.qe;for(var n=r.length-1;n>=0;n--)r[n].nb.Be(this)},o.prototype.Fe=function(){if(void 0===this.qe)return null;var t=this.oe[this.qe];return t.length>1?null:t[0]},o.prototype.toString=function(){for(var t=s(this.pe)+" "+this.code+" ("+w(this.ac,this.bc)+"), vcount "+this.me,r=0;r<this.oe.length;r++)t+=", "+this.oe[r].length+" "+m(r)+" neighbors";return t},o.prototype.ub=function(){this.toString();for(var t=0;t<this.oe.length;t++)this.oe[t].map(e)},f.prototype.toString=function(){return this.He.map(n)},f.prototype.Ke=function(t){if(t.Je.length=0,!t.Ie)return this.He.push(t),void(t.Ie=this);if(t.Ie.Ge!==this.Ge)for(var r=t.Ie.He,i=r.length-1;i>=0;i--)this.He.push(r[i]),r[i].Ie=this},f.prototype.remove=function(t){var r=this.He.indexOf(t);if(r<0)throw new Error("Band.remove on wrong Band");this.He.splice(r,1),t.Ie=null},f.Ae=function(t){if(b.debug&&t.length,1===t.length)throw new Error("add Band of 1");for(var r=null,i=0;i<t.length;i++)if(t[i].nb.Ie){r=t[i].nb.Ie;break}var e=0;for(r||(r=new f(t[e++].nb)),i=e;i<t.length;i++)r.Ke(t[i].nb)},u.prototype.Me=function(t){this.group=t,this.je=0,this.Le.length=0,this.Je.length=0,this.Ie=null,this.Ne=!1,this.se=!1,this.ye.length=0,this.Ee.length=0,this.xe=0},u.prototype.toString=function(){var t=this.Ie?this.Ie.toString():"";return this.group.toString()+" (isAlive:"+this.Ne+" isDead:"+this.se+", "+this.je+" eyes, "+this.Le.length+" voids  brothers:["+t+"] parents:["+this.Je.map(n)+"] deadEnemies:["+this.ye.map(n)+"])"},u.prototype.Be=function(t){b.debug,this.Le.push(t),1===t.pe&&this.je++},u.prototype.De=function(t){var r=this.Le.indexOf(t);r!==-1&&(b.debug,this.Le.splice(r,1),1===t.pe&&this.je--)},u.prototype.Oe=function(t){for(var r;r=this.Le[0];)this.De(r),t.Be(r)},u.prototype.ze=function(t){b.debug;var r=this.Ie;r&&r.remove(this);for(var i=t.length-1;i>=0;i--){var e=t[i].nb;e!==this&&(this.Je.indexOf(e)<0&&(b.debug,this.Je.push(e)))}this.Oe(this.Je[0])},u.prototype.Pe=function(){for(var t=this.group,r=t.wb(),i=[],e=0,n=r.length-1;n>=0;n--){var o=r[n].Mb(t.color);1!==o.length&&(e++,i.bd(o))}e&&(this.xe=e,f.Ae(i))},u.prototype.ke=function(){for(var t=this.Le.length-1;t>=0;t--){var r=this.Le[t];if(1===r.pe)return r}return null},u.prototype.Qe=function(t){this.se=!0;for(var r=this.Ee=this.group.yb(),i=r.length-1;i>=0;i--)r[i].nb.ye.push(this);b.debug},u.prototype.Re=function(t){if(this.Ne||this.je>=2)return E;var r=this.group.ib/100;if(this.se)return 0+r;var i=0;if(!t){for(var e=this.Je.length-1;e>=0;e--)i+=this.Je[e].Re(!0);if(this.Ie){var n=this.Ie.He;for(e=n.length-1;e>=0;e--)n[e]!==this&&(i+=n[e].Re(!0))}}return this.Le.length+this.ye.length+i+r},u.prototype.Se=function(){return this.Le.length+this.ye.length>=2&&(b.debug,this.Ne=!0,!0)},u.prototype.Te=function(){if(!this.Je.length)return!1;for(var t=!0,r=this.Je.length-1;r>=0;r--){var i=this.Je[r];if(i.Ne)return b.debug,this.Ne=!0,!0;i.se||(t=!1)}return!!t&&(this.Qe("parentsDead"),!0)},u.prototype.Ue=function(){if(!this.Ie)return!1;for(var t=this.Ie.He,r=0,i=!1,e=t.length-1;e>=0;e--){var n=t[e];n!==this&&(i||n.Ne?i=n.Ne=!0:(r+=n.je)>=2&&(i=n.Ne=!0))}return!!i&&(b.debug,this.Ne=!0,!0)},u.prototype.Ve=function(t){if(1!==this.je)return!1;var r=this.ke(),i=[],e=v.le(this.group.gb,r.ac,r.bc,r.me,i);if(1===e){if(void 0===t)return!1;t!==this.group.color&&(e=0)}return 0===e?!this.Ie&&!this.ye.length&&(this.Qe("singleEyeShape"),!0):(this.Ne=!0,b.debug,!0)},u.prototype.We=function(t){var r=this.Re();return r>=E?(this.Ne=!0,b.debug,!0):r<t&&(this.Qe("liveliness="+r.toFixed(2)),!0)},u.prototype.Xe=function(){return this.We(1)},u.prototype.Ye=function(){return this.We(2)},r.exports=a,a.prototype.af=function(t){b.debug,this.$e[C]=this.$e[M]=0,this._e=t.bf(),this.cf(t)&&(this.df(),this.ef(),b.debug&&this.ff.grid.Va())},a.prototype.gf=function(){return this.gb.hf},a.prototype.jf=function(t,r,i){this.cf(t,r)&&(this.df(i),this.ef())},a.prototype.$a=function(){return this.ff.grid.$a()},a.prototype.ub=function(){this.ff.grid.Va();for(var t,r=this.Ze,i=0;t=r[i],i<r.length;i++)t.ub();if(this.$e){var n=[[],[],[]];for(var o in this.ie){var s=this.ie[o],h=s.nb.je;n[h>=2?2:h].push(s)}n[2].map(e),n[1].map(e),n[0].map(e),this.$e.map(function(t,r){return" player "+r+": "+t+" points"})}},a.prototype.cf=function(t,r){return this.gb=t,this.ff=new y(t,r),0!==t.kf()&&(this.lf(),!0)},a.prototype.mf=function(t){this.ie[t.mb]||(this.ie[t.mb]=t,t.nb&&t.nb.Dd===this?t.nb.Me(t):t.nb=new u(t,this))},a.prototype.lf=function(){b.debug;var t=g.Ma;this.ie={},this.Ze.length=0;for(var r=[[],[]],i=1;i<=this.gb.Ca;i++)for(var e=1;e<=this.gb.Ca;e++){var n=this.ff.nf(e,i,x,t,r);if(0!==n){this.Ze.push(new o(t,e,i,n,r)),t++;for(var s=C;s<=M;s++)for(var h=r[s],f=h.length-1;f>=0;f--)this.mf(h[f]);r=[[],[]]}}},a.prototype.df=function(t){this.pf(),this.qf(),this.rf(),this.sf(t)},a.prototype.pf=function(){for(var t in this.ie)this.ie[t].nb.Pe()},a.prototype.qf=function(){b.debug;for(var t=this.Ze.length-1;t>=0;t--)this.Ze[t].te()},a.prototype.rf=function(){for(var t=[0,0];;){for(var r=!1,i=this.Ze.length-1;i>=0;i--){var e=this.Ze[i];if(void 0===e.qe){t[C]=t[M]=0;for(var n=C;n<=M;n++)for(var o=e.oe[n].length-1;o>=0;o--){var s=e.oe[n][o].nb;t[n]+=s.Re()}var h=p(t);void 0!==h?(b.debug&&(m(h),t[h].toFixed(2),t[1-h].toFixed(2)),e.we(h),r=!0):b.debug}}if(!r)break}},a.prototype.tf=function(t,r,i){var e=0,n=0;for(var o in this.ie){var s=this.ie[o],h=s.nb;h.Ne||h.se||(n++,t.call(h,i)&&e++)}if(b.debug){var f="REVIEWED "+n+" groups for step "+r;e&&(f+=" => found "+e+" alive/dead groups")}return e===n?-1:e};var D=[u.prototype.Se,u.prototype.Te,u.prototype.Ue,u.prototype.Xe,u.prototype.Ve,u.prototype.Ye],O=[u.prototype.Se,u.prototype.Te,u.prototype.Ue,u.prototype.Xe,u.prototype.Ve,u.prototype.Ye];a.prototype.sf=function(t){for(var r=void 0!==t?D:O,i=0;i<r.length;){var e=this.tf(r[i],i,t);if(0!==e){if(i=0,this.qf(),e<0)return}else i++}},a.prototype.ef=function(){this.uf(),this.vf(),this.wf()},a.prototype.uf=function(){for(var t=[],r=this.Ze.length-1;r>=0;r--){var i=this.Ze[r];t[C]=t[M]=!1;for(var e=C;e<=M;e++)for(var n,o=i.oe[e],s=0;n=o[s],s<o.length;s++)if(n.nb.Re()>=2){t[e]=!0;break}t[C]&&t[M]&&i.Ce()}},a.prototype.vf=function(){for(var t,r=this.Ze.length-1;r>=0;r--){var i=this.Ze[r];void 0!==i.qe&&2!==i.pe?(this.$e[i.qe]+=i.me,t=g.Qa+i.qe):t=g.Oa,this.ff.nf(i.ac,i.bc,i.code,t)}},a.prototype.wf=function(){for(var t in this.ie){var r=this.ie[t];if(r.nb.se){var i=r.color,e=r.hb[0],n=this.ff.nf(e.ac,e.bc,i,g.Pa+i);this._e[i]+=n,this.$e[1-i]+=n}}}},{"../1g0/Grid":6,"../1g0/Move":8,"../1g0/constants":10,"../1g0/log":13,"../Shaper":21,"./ZoneFiller":26}],24:[function(t,r,i){"use strict";function e(t){this.gb=t,this.Ca=t.Ca,this.map=new Array(this.Ca+1);for(var r=1;r<=this.Ca;r++)for(var i=this.map[r]=new Array(this.Ca+1),e=1;e<=this.Ca;e++)i[e]=[0,0]}var n=t("../1g0/constants"),o=t("../1g0/log"),s=t("../1g0/Move"),h=s.fb,f=n.EMPTY;r.exports=e,e.prototype.clear=function(){for(var t=1;t<=this.Ca;t++)for(var r=1;r<=this.Ca;r++)for(var i=0;i<2;i++)this.map[t][r][i]=0},e.prototype.xf=function(){this.clear();for(var t=[4,2,1],r=1;r<=this.Ca;r++)for(var i=1;i<=this.Ca;i++){var e=this.gb.mc(i,r),n=e.color;if(n!==f){this.map[r][i][n]+=t[0];for(var s,h=e.xb,u=0;s=h[u],u<h.length;u++)if(s.color===f){this.map[s.bc][s.ac][n]+=t[1];for(var a,c=s.xb,p=0;a=c[p],p<c.length;p++)a.color===f&&a!==e&&(this.map[a.bc][a.ac][n]+=t[2])}}}if(o.debug)return this.ub()},e.prototype.ub=function(){function t(t){return"%2d".format(t[r])}var r;for(r=0;r<2;r++){h(r);for(var i=this.Ca;i>=1;i--)"%2d".format(i),this.map[i].slice(1,this.Ca+1).map(t).join("|");for(var e="  ",n=1;n<=this.Ca;n++)e+=" "+xCoord2str(n)+" "}}},{"../1g0/Move":8,"../1g0/constants":10,"../1g0/log":13}],25:[function(t,r,i){"use strict";function e(t){this.gb=t,this.Ca=t.Ca,this.Dd=new o,this.yf=this.gb.hf,this.zf=this.yf.Da,this.Nd=[new h(this.Ca,a),new h(this.Ca,a)],this.Af=new h(this.Ca,a),this.Bf=new h(this.Ca,a),this.Cf()}function n(t,r,i){switch(t){case b:return[r,1];case d:return[1,r];case v:return[r,i];case y:return[i,r]}}var o=t("./BoardAnalyser"),s=t("../1g0/constants"),h=t("../1g0/Grid"),f=t("../1g0/log"),u=t("../1g0/Stone"),a=s.Ba,c=s.EMPTY,p=s.Sb,l=s.Tb,g=s.NEVER,b=s.Hc,d=s.Jc,v=s.Kc,y=s.Mc,m=h.Sa,w=h.Ra,x=u.dc,C=u.ec;r.exports=e,e.prototype.Df=function(){this.Ef(),this.yf.Ta(this.gb),this.Ff(this.Nd[p],p,l),this.Ff(this.Nd[l],l,p);for(var t=this.Nd[p].Da,r=this.Nd[l].Da,i=this.Bf.Da,e=1;e<=this.Ca;e++)for(var n=1;n<=this.Ca;n++)i[e][n]=(w[2+t[e][n]]+w[2+r[e][n]])/2;return f.debug&&(this.yf,this.Nd[p],this.Nd[l]),i},e.prototype.Ld=function(){return this.Bf},e.prototype.toString=function(){return"\n+1=white, -1=black, 0=no one\n"+this.Bf.Va(function(t){return 0===t?"    0":"%+.1f".format(t)})+this.Bf.Va(function(t){return m[2+2*t]})},e.prototype.$a=function(){return this.Bf.Xa(function(t){return m[2+2*t]})},e.prototype.Gf=function(t){return this.Nd[t]},e.prototype.Ff=function(t,r,i){var e=this.gb.kf();for(this.Hf(t,r,i),this.Dd.jf(this.gb,t.Ta(this.gb),r),this.If(),e=this.gb.kf()-e;e-- >0;)this.gb._d()},e.prototype.Ef=function(){this.ie=this.gb.Jf();for(var t in this.ie){var r=this.ie[t];r.ob=r.pb=g}},e.prototype.If=function(){for(var t in this.ie){for(var r=this.ie[t],i=r;i.jb;)i=i.jb;i.lb||i.nb.se?r.pb++:i.nb.Ne&&r.ob++}},e.prototype.Hf=function(t,r,i){this.Kf=this.Bf,this.Lf=null,this.Mf(this.yf,this.Kf.L(this.yf),r,i),this.Mf(this.Kf,t.L(this.Kf),i,r),f.debug,this.Nf(t.Da),f.debug,this.reduce(this.Af.L(t)),this.Lf=this.Af.Da,f.debug&&this.Af,this.Mf(this.yf,this.Kf.L(this.yf),r,i),this.Mf(this.Kf,t.L(this.Kf),i,r),f.debug,this.Nf(t.Da),f.debug},e.prototype.Mf=function(t,r,i,e){f.debug;for(var n=t.Da,o=r.Da,s=1;s<=this.Ca;s++)for(var h=1;h<=this.Ca;h++)n[s][h]===c&&this.Of(n,o,h,s,i,e)},e.prototype.reduce=function(t){for(var r=t.Da,i=1;i<=this.Ca;i++)for(var e=1;e<=this.Ca;e++)if(this.zf[i][e]===c){var n=r[i][e];if(n!==c){var o=this.Pf(r,e,i,1-n);0===o&&(r[i][e]=c)}}},e.prototype.Of=function(t,r,i,e,n,o){switch(this.Pf(t,i,e,n)){case 0:if(!this.Qf(t,i,e,n,o))return;break;case 4:return;case 3:if(0===this.Pf(t,i,e,o))return}return this.Rf(r,i,e,n)},e.prototype.Rf=function(t,r,i,e,n){if(this.Lf){if(!n&&this.Lf[i][r]===c)return;if(this.gb.mc(r,i).pc(e))return;this.gb.$d(r,i,e)}t[i][r]=e},e.prototype.Pf=function(t,r,i,e){for(var n=0,o=b;o<=y;o++){var s=x[o];t[i+s[1]][r+s[0]]===e&&n++}return n},e.prototype.Qf=function(t,r,i,e,n){for(var o=0;o<4;o++){var s=C[o];if(t[i+s[1]][r+s[0]]===e&&(t[i+s[1]][r]!==n&&t[i][r+s[0]]!==n))return!0}return!1},e.prototype.Cf=function(){for(var t=[],r=b;r<=y;r++)for(var i=x[r][0],e=x[r][1],o=this.Ca-1;o>=2;o--){var s=n(r,o,this.Ca);t.push([s[0],s[1],i,e])}this.Sf=t},e.prototype.Nf=function(t){for(var r,i,e,n,o,s,h=this.Sf,f=h.length-1;f>=0;f--){var u=h[f],a=u[0],p=u[1];if(t[p][a]===c){var l=u[2],g=u[3],b=a+l,d=p+g,v=t[d][b];if(v===c){var y=b+l,m=d+g;if((v=t[m][y])===c){var w=y+l;if((v=t[m+g][w])===c);else{if(r=t[p-l][a-g],i=t[p+l][a+g],e=t[d-l][b-g],n=t[d+l][b+g],o=t[m-l][y-g],s=t[m+l][y+g],r===v&&e===v&&o===v)continue;if(i===v&&n===v&&s===v)continue;if(this.Rf(t,y,m,v,!0),r===v&&e===v)continue;if(i===v&&n===v)continue;if(this.Rf(t,b,d,v,!0),r===v||i===v)continue;this.Rf(t,a,p,v,!0)}}else{if(r=t[p-l][a-g],i=t[p+l][a+g],e=t[d-l][b-g],n=t[d+l][b+g],r===v&&e===v)continue;if(i===v&&n===v)continue;if(this.Rf(t,b,d,v,!0),r===v||i===v)continue;this.Rf(t,a,p,v,!0)}}else{if(r=t[p-l][a-g],i=t[p+l][a+g],r===v||i===v)continue;this.Rf(t,a,p,v,!0)}}}}},{"../1g0/Grid":6,"../1g0/Stone":9,"../1g0/constants":10,"../1g0/log":13,"./BoardAnalyser":23}],26:[function(t,r,i){"use strict";function e(t,r){r||(r=t.hf.Ta(t)),this.gb=t,this.grid=r,this.Da=r.Da,this.oe=null}var n=t("../1g0/constants"),o=n.Ba;r.exports=e,e.prototype.nf=function(t,r,i,e,n){if(this.Da[r][t]!==i)return 0;var o=0;this.Tf=i,this.oe=n;for(var s,h=[[t,r,r]];s=h.pop();){var f=s[0],u=s[1],a=s[2];if(this.Da[u][f]===i){for(;this.Uf(f,u-1);)u--;for(;this.Uf(f,a+1);)a++;o+=a-u+1;for(var c=f-1;c<=f+1;c+=2){for(var p=null,l=u;l<=a;l++)c<f&&(this.Da[l][f]=e),this.Uf(c,l)?p||(p=l):p&&(h.push([c,p,l-1]),p=null);p&&h.push([c,p,a])}}}return o},e.prototype.Uf=function(t,r){var i=this.Da[r][t];if(i===o)return!1;if(i===this.Tf)return!0;if(this.oe&&i<2){var e=this.gb.mc(t,r).group;e&&this.oe[i].indexOf(e)<0&&this.oe[i].push(e)}return!1}},{"../1g0/constants":10}],27:[function(t,r,i){"use strict";function e(t,r,i){this.name="Frankie",this.gb=t.gb,this.zd=new c(this.gb),this.Cd=new g(this.gb),this.Dd=new h,this.Ca=this.gb.Ca,this.Vf=new a(this.Ca,v),this.Ed=new a(this.Ca,0,v),this.Jd=i||new u,this.Wf=this.td("smaller-move",.03,.01,.1),this.Xf=[];for(var e=s(),n=0;n<e.length;n++){var o=new e[n](this);this.Xf.push(o)}this.setColor(r),this.Yf(this.Jd)}function n(t,r,i){return d(t,r)+":"+i.toFixed(3)}function o(t,r){return r[1]-t[1]}var s=t("./AllHeuristics"),h=t("./boan/BoardAnalyser"),f=t("./1g0/constants"),u=t("./1g0/Genes"),a=t("./1g0/Grid"),c=t("./boan/InfluenceMap"),p=t("./1g0/log"),l=t("./1g0/Move"),g=t("./boan/PotentialTerritory"),b=t("./boan/ZoneFiller"),d=l.Zb,v=f.Ba,y=f.Bc,m=f.Dc;r.exports=e,e.Zf="Frankie",e.$f="0.1",e._f=h,e.ag=g,e.bg=b,e.prototype.ee=function(t){for(var r=this.Xf.length-1;r>=0;r--){var i=this.Xf[r];if(i.name===t)return i}throw new Error("Invalid heuristic name: "+t)},e.prototype.Yf=function(t){this.Jd=t,this.cg=0,this.dg=null},e.prototype.setColor=function(t){this.color=t,this.Hd=1-t;for(var r=0;r<this.Xf.length;r++)this.Xf[r].Gd()},e.prototype.td=function(t,r,i,e){return void 0===i&&(i=null),void 0===e&&(e=null),this.Jd.get(this.name+"-"+t,r,i,e)},e.prototype.eg=function(t,r,i){p.debug&&(n(t,r,i),this.fg!==-1&&n(this.fg,this.gg,this.hg)),this.hg=i,this.fg=t,this.gg=r},e.prototype.ig=function(t,r,i){p.debug&&(this.jg>1?(n(t,r,i),n(this.kg,this.lg,this.mg)):this.kg!==-1&&n(t,r,i)),1===this.jg&&this.eg(this.kg,this.lg,this.mg),this.mg=i,this.kg=t,this.lg=r},e.prototype.ng=function(t,r,i){if(i<this.mg)this.eg(t,r,i);else if(i>this.mg)this.jg=1,this.ig(t,r,i);else{if(this.jg++,Math.random()*this.jg>=1)return;this.ig(t,r,i)}},e.prototype.og=function(){this.cg++,this.pg();var t,r,i=this.Vf.Da,e=this.Ed.Da;for(r=1;r<=this.Ca;r++)for(t=1;t<=this.Ca;t++)this.gb.qg(t,r,this.color)?(i[r][t]=y,e[r][t]=0):i[r][t]=m;for(var n=0;n<this.Xf.length;n++)this.Xf[n].Id(i,e);for(r=1;r<=this.Ca;r++)for(t=1;t<=this.Ca;t++)i[r][t]>=y&&e[r][t]>this.hg&&this.ng(t,r,e[r][t]);return this.mg<=this.Wf?"pass":d(this.kg,this.lg)},e.prototype.Df=function(){return this.Cd.Df()},e.prototype.pg=function(){this.rg=this.gb.kf(),this.mg=this.hg=this.Wf,this.kg=this.fg=-1,this.sg=null,this.zd.xf(),this.Cd.Df(),this.Dd.jf(this.gb,null,this.color)},e.prototype.tg=function(t,r){this.rg!==this.gb.kf()&&this.og();var i=this.Vf.Da,e=this.Ed.Da;this.gb.qg(t,r,this.color)&&(i[r][t]=y);for(var n=0,o={},s=0;s<this.Xf.length;s++){var h=this.Xf[s];e[r][t]=0,h.Id(i,e);var f=e[r][t];f&&(o[h.name]=f),n+=f}return this.sg=o,n},e.prototype.ug=function(t,r){var i=this.tg(t,r);return this.ig(t,r,i),this.fg=-1,i},e.prototype.vg=function(t,r,i){this.rg!==this.gb.kf()&&this.og();var e=this.Vf.Da,n=this.Ed.Da;return this.og(),e[r][t]=y,n[r][t]=0,this.ee(i).Id(e,n),n[r][t]},e.prototype.wg=function(t){this.dg=t},e.prototype.xg=function(t){if(this.kg===-1)return"";if(t!==d(this.kg,this.lg))return"";this.tg(this.kg,this.lg);var r=this.sg,i=this.mg;if(!r)return"";var e=[];for(var n in r)0!==r[n]&&e.push([n,r[n]]);e.sort(o);for(var s=t+" ("+i.toFixed(2)+")\n",h=0;h<e.length;h++)s+="- "+e[h][0]+": "+e[h][1].toFixed(2)+"\n";return s}},{"./1g0/Genes":5,"./1g0/Grid":6,"./1g0/Move":8,"./1g0/constants":10,"./1g0/log":13,"./AllHeuristics":14,"./boan/BoardAnalyser":23,"./boan/InfluenceMap":24,"./boan/PotentialTerritory":25,"./boan/ZoneFiller":26}]},{},[27])(27)});