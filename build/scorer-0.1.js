!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.g)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.h=t()}}(function(){return function t(r,i,n){function o(h,s){if(!i[h]){if(!r[h]){var u="function"==typeof require&&require;if(!s&&u)return u(h,!0);if(e)return e(h,!0);var a=new Error("Cannot find module '"+h+"'");throw a.code="MODULE_NOT_FOUND",a}var f=i[h]={exports:{}};r[h][0].call(f.exports,function(t){var i=r[h][1][t];return o(i||t)},f,f.exports,t,r,i,n)}return i[h].exports}for(var e="function"==typeof require&&require,h=0;h<n.length;h++)o(n[h]);return o}({1:[function(t,r,i){"use strict";function n(t){if(void 0===t&&(t=19),t!==~~t||t<3)throw new Error("Invalid goban size: "+t);this.j=t,this.k=new e(t,u),this.grid=new e(t,h.i),this.l=this.grid.m;var r,i;for(i=t;i>=1;i--)for(r=t;r>=1;r--)this.l[i][r]=new h(this,r,i,a);for(i=1;i<=t;i++)for(r=1;r<=t;r++)this.l[i][r].o();n.p=new s(this,new h(this,-50,-50,a),-100,0),this.q=[n.p],this.s=[n.p],this.t=[],this.u=0,this.history=[],this.v(!1),this.A=0}var o=t("./constants"),e=t("./Grid"),h=t("./Stone"),s=t("./Group"),u=(t("./test"),o.i),a=o.EMPTY;r.exports=n,n.prototype.clear=function(){for(var t=1;t<=this.j;t++)for(var r=1;r<=this.j;r++){var i=this.l[t][r];i.group&&i.group.clear()}this.q.shift(),this.s.shift(),this.t.concat(this.q),this.t.concat(this.s),this.q.length=0,this.s.length=0,this.q.push(n.p),this.s.push(n.p),this.u=0,this.history.length=0,this.v(!1),this.A=0},n.prototype.C=function(t,r){var i=++this.u,n=this.t.pop();return n?n.D(t,r,i):n=new s(this,t,r,i),n},n.prototype.F=function(t){t.G===this.u&&this.u--,this.t.push(t)},n.prototype.H=function(){return this.grid.I()},n.prototype.J=function(t){this.k.J(t);for(var r=this.j;r>=1;r--)for(var i=1;i<=this.j;i++){var n=this.k.m[r][i];n!==a&&this.K(i,r,n)}},n.prototype.L=function(){for(var t={},r=this.j;r>=1;r--)for(var i=this.j;i>=1;i--){var n=this.l[r][i].group;n&&(t[n.G]=n)}return t},n.prototype.M=function(){for(var t,r="Board:\n"+this.toString()+"\nGroups:\n"+this.grid.N(function(t){return t.group?""+t.group.G:"."})+"\nStones in groups:\n",i={},n=this.grid.m,o=0;t=n[o],o<n.length;o++)for(var e,h=t,s=0;e=h[s],s<h.length;s++)e&&e.group&&(i[e.group.G]=e.group);for(var u=1;u<=this.u;u++)i[u]&&(r+=i[u].M()+"\n");return r},n.prototype.toString=function(){return this.grid.N()},n.prototype.O=function(t,r,i){if(t<1||t>this.j||r<1||r>this.j)return!1;var n=this.l[r][t];if(n.color!==a)return!1;if(n.P(i))return!1;if(this.R){if(this.S[this.T(t,r,i)])return!1}else if(n.U(i))return!1;return!0},n.prototype.V=function(t,r){return this.l[r][t]},n.prototype.X=function(t,r){return this.l[r][t].color},n.prototype.Y=function(t,r){return this.l[r][t].Y()},n.prototype.Z=function(){return this.history.length},n.prototype.K=function(t,r,i){this.$(t,r,i);var n=this.l[r][t];if(n.color!==a)throw new Error("Tried to play on existing stone in "+n);return this._(t,r,i)},n.prototype.aa=function(){if(!this.history.length)throw new Error("Extra undo");this.history.pop().ba(),this.$()},n.prototype._=function(t,r,i){var n=this.l[r][t];return n.P(i),this.history.push(n),this.A++,n.ca(i),n},n.prototype.da=function(){this.history.pop().ba()},n.prototype.ea=function(){return this.q[this.q.length-1]},n.prototype.fa=function(){return this.history[this.history.length-1]},n.prototype.ga=function(t){t=t||[0,0];for(var r=this.q.length-1;r>0;r--){var i=this.q[r];t[i.color]+=i.ha.length}return t},n.prototype.v=function(t){if(this.history.length>0)throw new Error("Superko rule changed during game");this.R=t,t?(this.ia=this.ja(),this.ka=[],this.S={}):(this.ia=null,this.ka=this.S=null)},n.prototype.$=function(t,r,i){this.R?t?(this.ka.push(this.ia),this.S[this.ia]=this.history.length,this.ia=this.T(t,r,i)):(this.ia=this.ka.pop(),this.S[this.ia]=null):this.ia=null},n.prototype.T=function(t,r,i){for(var n=this.la(this.ia,t,r,i),o=this.V(t,r).ma(1-i),e=o.length-1;e>=0;e--)if(!(o[e].na>1))for(var h=o[e].ha,s=h.length-1;s>=0;s--){var u=h[s];n=this.la(n,u.oa,u.pa,a)}return n},n.prototype.qa=function(){return this.R?this.ia:(this.ia||(this.ia=this.H()),this.ia)};var f="0".charCodeAt();n.prototype.ja=function(){for(var t="",r="",i=this.j,n=1;n<=i;n++)for(var o=this.l[n],e=1;e<=i;e++)t+=String.fromCharCode(f+o[e].color+1),4===t.length&&(r+=String.fromCharCode(parseInt(t,3)+33),t="");return t.length&&(t=(t+"000").substr(0,4),r+=String.fromCharCode(parseInt(t,3)+33)),r},n.prototype.la=function(t,r,i,n){var o,e=(i-1)*this.j+(r-1),h=~~(e/4),s=e%4;if(n===a){var u=("000"+(t.charCodeAt(h)-33).toString(3)).slice(-4),f=u.substr(0,s)+"0"+u.substr(s+1);o=parseInt(f,3)+33}else o=t.charCodeAt(h)+(1<<n)*Math.pow(3,3-s);return t.substr(0,h)+String.fromCharCode(o)+t.substr(h+1)}},{"./Grid":2,"./Group":3,"./Stone":5,"./constants":6,"./test":16}],2:[function(t,r,i){"use strict";function n(t,r,i){if(void 0===r)throw new Error("Grid init value must be defined");this.j=t,void 0===i?this.m=u.sa(t+2,t+2,r):(this.m=u.sa(t+2,t+2,i),this.init(r))}function o(t){if(t===c)return"(BORDER)";if(t>=n.Aa)return String.fromCharCode("A".charCodeAt()+t-n.Aa);if(t<n.Ca||t>=n.ya.length)throw new Error("Invalid color "+t);return t<0&&(t+=n.ya.length),n.ya[t]}function e(t){return o("number"==typeof t?t:t.color)}function h(t){for(var r="",i=t.length-1;i>=0;i--)r+=t[i];return r}var s=t("./constants"),u=t("./helper"),a=t("./Move"),f=a.ra,c=s.i;r.exports=n,n.ta="+",n.ua="?",n.va="@O",n.wa="&#",n.xa="-:",n.ya=n.va+n.wa+n.xa+n.ua+n.ta,n.za=n.ua+n.ta+n.ya,n.Aa=100,n.Ba=-1,n.Ca=-2,n.Da=2,n.Ea=4,n.Fa=[0,0,-1,1,1,-1,-1,1],n.Ga="-'?.:",n.prototype.init=function(t){if(void 0===t)throw new Error("Grid init value must be defined");for(var r=this.j;r>=1;r--)for(var i=this.m[r],n=this.j;n>=1;n--)i[n]=t},n.prototype.Ha=function(t){if(t.j!==this.j)throw new Error("Cannot copy between different sized grids");for(var r=this.j;r>=1;r--)for(var i=this.m[r],n=t.m[r],o=this.j;o>=1;o--)i[o]=n[o];return this},n.prototype.Ia=function(t){var r=t.grid;if(r.j!==this.j)throw new Error("Cannot copy between different sized grids");for(var i=this.j;i>=1;i--)for(var n=this.m[i],o=r.m[i],e=this.j;e>=1;e--)n[e]=o[e].color;return this},n.Ja=function(t){return n.za.indexOf(t)+n.Ca},n.prototype.N=function(t){return this.Ka(!0,"\n",t||e)},n.prototype.I=function(t){return this.Ka(!1,",",t||e)},n.La=function(t){return t.indexOf(",")},n.prototype.Ka=function(t,r,i){var o,e,h,s=new n(this.j,"").m,u=1;for(e=this.j;e>=1;e--)for(o=1;o<=this.j;o++)null!==(h=i(this.m[e][o]))&&(s[e][o]=h,u=Math.max(u,h.length));var a=u,c="          ",p="";for(e=this.j;e>=1;e--){for(t&&(p+="%2d".format(e)+" "),o=1;o<=this.j;o++)h=s[e][o],h.length<a&&(h=c.substr(1,a-h.length)+h),p+=h;p+=r}if(t){for(p+="   ",o=1;o<=this.j;o++)p+=c.substr(1,a-1)+f(o);p+="\n"}return"\n"!==r&&(p=p.Ma()),p},n.prototype.toString=function(){for(var t="",r=this.j;r>=1;r--){for(var i=1;i<=this.j;i++)t+=o(this.m[r][i]);t+="\n"}return t},n.prototype.H=function(){return"object"==typeof this.m[1][1]?this.I(function(t){return o(t.color)}):this.I(function(t){return o(t)})},n.prototype.J=function(t){var r=t.split(/\"|,/);if(r.length!==this.j)throw new Error("Invalid image: "+r.length+" rows instead of "+this.j);for(var i=this.j;i>=1;i--){var o=r[this.j-i];if(o.length!==this.j)throw new Error("Invalid image: row "+o);for(var e=1;e<=this.j;e++)this.m[i][e]=n.Ja(o[e-1])}},n.Na=function(t){return t.split(",").reverse().join()},n.Oa=function(t){return t.split(",").map(h).join()},n.Pa=function(t){return h(t)},n.Qa=function(t){for(var r="",i=t.split(","),n=i[0].length-1;n>=0;n--){r+=",";for(var o=0;o<i.length;o++)r+=i[o][n]}return r.substr(1)}},{"./Move":4,"./constants":6,"./helper":7}],3:[function(t,r,i){"use strict";function n(t,r,i,n){this.Sa=t,this.ha=[r],this.na=i,this.color=r.color,this.Ta=null,this.Ua=null,this.Va=null,this.G=n,this.Wa=null,this.Xa=this.Ya=0}var o=t("./constants"),e=t("./log"),h=t("./Move"),s=h.Ra,u=o.EMPTY;r.exports=n,n.prototype.D=function(t,r,i){this.ha.length=0,this.ha.push(t),this.na=r,this.color=t.color,this.Ta=this.Ua=this.Va=null,this.G=i,this.Xa=this.Ya=0},n.prototype.clear=function(){for(var t=this.ha.length-1;t>=0;t--)this.ha[t].clear();this.Sa.F(this)},n.prototype.toString=function(t){if(0===t)return"#"+this.G;if(1===t)return this.ha[0]+" x"+this.ha.length;for(var r,i="{group #"+this.G+" of "+this.ha.length+" "+s(this.color)+" stones [",n=this.ha,o=0;r=n[o],o<n.length;o++)i+=r.Za()+",";return i=i.Ma(),i+="], lives:"+this.na,this.Ta&&(i+=" MERGED with #"+this.Ta.G),this.Va&&(i+=" KILLED by "+this.Va.Za()),i+="}"},n.prototype.$a=function(){return this.ha.length&&this.ha[0].group===this},n.prototype.M=function(){return this.toString()},n.prototype._a=function(){return this.ha.map(function(t){return t.Za()}).sort().join(",")},n.prototype.ab=function(){for(var t,r=[],i=this.ha,n=0;t=i[n],n<i.length;n++)for(var o,e=t.bb,h=0;o=e[h],h<e.length;h++)o.color===u&&r.indexOf(o)<0&&r.push(o);if(r.length!==this.na)throw new Error("Wrong life count for group");return r},n.prototype.cb=function(){for(var t,r=[],i=1-this.color,n=this.ha,o=0;t=n[o],o<n.length;o++)for(var h,s=t.bb,u=0;h=s[u],u<s.length;u++)h.color===i&&r.indexOf(h.group)<0&&r.push(h.group);return e.eb&&r.length,r},n.prototype.fb=function(t){for(var r,i=-1,n=t.bb,o=0;r=n[o],o<n.length;o++)if(r.color===u){i++;for(var h,s=r.bb,a=0;h=s[a],a<s.length;a++)if(h.group===this&&h!==t){i--;break}}return e.eb,i},n.prototype.gb=function(t){if(e.eb,this.ha.push(t),this.na+=this.fb(t),this.na<0)throw new Error("Unexpected error (lives<0 on connect)");e.eb},n.prototype.hb=function(t){if(e.eb,this.ha.length>1){if(this.na-=this.fb(t),this.na<0)throw new Error("Lives<0 on disconnect")}else this.Sa.F(this),e.eb;if(this.ha.pop()!==t)throw new Error("Unexpected error (disconnect order)")},n.prototype.ib=function(t){if(--this.na<=0)return this.jb(t)},n.prototype.kb=function(t){if(this.na--,e.eb,this.na<1)throw new Error("Unexpected error (lives<1 on attack by resucitated)")},n.prototype.lb=function(t){this.na++,e.eb},n.prototype.mb=function(t,r){if(t.Ta===this||t===this||this.color!==t.color)throw new Error("Invalid merge");e.eb,this.na+=t.ha.length;for(var i,n=t.ha,o=0;i=n[o],o<n.length;o++)i.nb(this),this.gb(i);t.Ta=this,t.Ua=r,this.Sa.s.push(t),e.eb},n.prototype.ob=function(t){e.eb;for(var r,i=t.ha,n=i.length-1;r=i[n],n>=0;n--)this.hb(r),r.nb(t);this.na-=t.ha.length,t.Ua=t.Ta=null,e.eb},n.prototype.pb=function(t){for(var r=this.Sa.s,i=r.length-1;i>=0;i--){var n=r[i];if(n.Ua!==t||n.Ta!==this)break;this.ob(n),r.pop()}},n.prototype.jb=function(t){if(e.eb,this.na<0)throw new Error("Unexpected error (lives<0)");for(var r,i=this.ha,n=0;r=i[n],n<i.length;n++){for(var o,h=r.ma(1-this.color),s=0;o=h[s],s<h.length;s++)o.lb(r);r.qb()}this.Va=t,this.Sa.q.push(this),e.eb},n.prototype.rb=function(){this.Va=null,this.na=1;for(var t,r=this.ha,i=0;t=r[i],i<r.length;i++){t.sb(this);for(var n,o=t.ma(1-this.color),e=0;n=o[e],e<o.length;e++)n.kb(t)}},n.tb=function(t){for(var r=t.Sa.q,i=r.length-1;i>=0;i--){var n=r[i];if(n.Va!==t)break;r.pop(),e.eb,n.rb()}}},{"./Move":4,"./constants":6,"./log":9}],4:[function(t,r,i){"use strict";function n(t){switch(t[0]){case"B":return s;case"W":return u;default:return}}function o(t){return"B"!==t[0]&&"W"!==t[0]?t:"-"!==t[1]?t.substr(1):t.substr(2)}function e(t,r){var i=a.indexOf(t[0])+1,n=parseInt(t.substr(1,2));if(!i||isNaN(n)){if(r)return null;throw new Error("Illegal move parsed: "+t)}return[i,n]}var h=t("./constants"),s=h.ub,u=h.vb,a="abcdefghjklmnopqrstuvwxyz",f=["black","white"];i.wb=n,i.xb=o,i.yb=function(t,r){return(r===s?"B-":"W-")+t},i.Ra=function(t){return f[t]},i.zb=e,i.Ab=function(t){var r=n(t);void 0!==r&&(t=o(t));var i=e(t,!0);if(!i){if("pass"===t||t.startsWith("resi"))return null;throw new Error("Illegal move parsed: "+t)}return void 0!==r?i.concat(r):i},i.Bb=function(t,r){return a[t-1]+r},i.ra=function(t){return a[t-1]}},{"./constants":6}],5:[function(t,r,i){"use strict";function n(t,r,i,n){this.Sa=t,this.oa=r,this.pa=i,this.color=n,this.group=null,this.bb=[],this.Eb=[]}var o=t("./constants"),e=t("./Group"),h=t("./Move"),s=h.Bb,u=o.EMPTY,a=o.i,f=o.Cb,c=o.Db;r.exports=n,n.i=new n(null,-1,-1,a);var p=n.Fb=[[0,1],[1,0],[0,-1],[-1,0]],l=n.Gb=[[1,1],[1,-1],[-1,-1],[-1,1]];n.prototype.clear=function(){this.color=u,this.group=null},n.prototype.o=function(){for(var t=this.Sa.l,r=c;r>=f;r--){var i=t[this.pa+p[r][1]][this.oa+p[r][0]];i.color===u&&this.bb.push(i),this.Eb.push(i),i=t[this.pa+l[r][1]][this.oa+l[r][0]],this.Eb.push(i)}},n.prototype.toString=function(){return this.color===u?this.Za():(this.color?"W":"B")+"-"+this.Za()},n.prototype.Za=function(){return s(this.oa,this.pa)},n.prototype.Hb=function(){return this.Ib().map(function(t){return t.Za()}).sort().join(",")},n.prototype.Y=function(){return this.color===u},n.prototype.Jb=function(){return 2===this.bb.length},n.prototype.Kb=function(){var t=this.Sa,r=t.j-1;return t.V(1===this.oa?2:r,1===this.pa?2:r)},n.prototype.Lb=function(){return this.bb.length<=3},n.prototype.Mb=function(){var t=this.Sa.j,r=this.oa,i=this.pa;return Math.min(Math.min(r-1,t-r),Math.min(i-1,t-i))},n.prototype.P=function(t){for(var r=this.bb.length-1;r>=0;r--){var i=this.bb[r];if(i.color===u)return!1;if(i.color!==t){if(1===i.group.na)return!1}else if(i.group.na>1)return!1}return!0},n.prototype.U=function(t){for(var r=null,i=this.bb.length-1;i>=0;i--){var n=this.bb[i].group;if(n&&n.color===1-t&&1===n.na){if(r)return!1;r=n}}if(!r)return!1;if(1!==r.ha.length)return!1;var o=r.ha[0];if(this.Sa.fa()!==o)return!1;var e=this.Sa.ea();if(!e||e.Va!==o||1!==e.ha.length)return!1;var h=e.ha[0];return h.oa===this.oa&&h.pa===this.pa},n.prototype.qb=function(){this.color=u,this.group=null},n.prototype.sb=function(t){this.group=t,this.color=t.color},n.prototype.ca=function(t){this.color=t;var r=this.ma(t);0===r.length?this.group=this.Sa.C(this,this.Nb()):(this.group=r[0],this.group.gb(this));for(var i=this.ma(1-t),n=i.length-1;n>=0;n--)i[n].ib(this);for(var o=1;o<r.length;o++)this.group.mb(r[o],this)},n.prototype.ba=function(){this.group.pb(this),this.group.hb(this);for(var t=this.ma(1-this.color),r=t.length-1;r>=0;r--)t[r].lb(this);this.group=null,this.color=u,e.tb(this)},n.prototype.nb=function(t){this.group=t},n.prototype.ma=function(t){for(var r=[],i=this.bb,n=i.length-1;n>=0;n--){var o=i[n];o.color===t&&r.indexOf(o.group)<0&&r.push(o.group)}return r},n.prototype.Ib=function(){for(var t=[],r=this.bb,i=r.length-1;i>=0;i--){var n=r[i];n.color===u&&t.push(n)}return t},n.prototype.Nb=function(){for(var t=0,r=this.bb,i=r.length-1;i>=0;i--)r[i].color===u&&t++;return t},n.prototype.Ob=function(t,r){for(var i=0,n=this.bb,o=n.length-1;o>=0;o--)n[o].color===t&&(r&&r.push(n[o]),i++);return i},n.prototype.Pb=function(t){for(var r=this.bb,i=r.length-1;i>=0;i--)if(r[i].group===t)return!0;return!1}},{"./Group":3,"./Move":4,"./constants":6}],6:[function(t,r,i){"use strict";function n(){this.Qb=0,this.Rb=1,this.i=-99,this.EMPTY=-1,this.ub=0,this.vb=1,this.Sb=0,this.Tb=1,this.Ub=-1,this.NEVER=0,this.Vb=1,this.ALWAYS=2,this.Cb=0,this.Db=3,this.Wb=7,this.Xb=1,this.Yb=this.Zb=0,this.$b=1,this._b=this.ac=2,this.bc=3,this.cc=4,this.dc=5,this.ec=6,this.fc=7,this.gc=8,this.hc=9,this.ic=10,this.jc=11,this.kc=12,this.lc="Japanese",this.mc="Chinese",this.nc=0,this.oc=1}r.exports=new n},{}],7:[function(t,r,i){"use strict";function n(t){return"\n"!==t.slice(-1)?0:"\r\n"!==t.slice(-2)?1:2}i.pc=function(t){return t.name||t.toString().split(/ |\(/,2)[1]},i.clone=function(t){if(null===t||void 0===t)return t;var r;if(t instanceof Array){r=[];for(var i=0,n=t.length;i<n;i++)r[i]=t[i]}else{if("object"!=typeof t)throw new Error("clone called on "+typeof t);if("function"==typeof t.clone)return t.clone();r={};for(var o in t){var e=t[o];"function"!=typeof e&&(r[o]=e)}}return r},String.prototype.qc=function(t){if(void 0===t)return this.substr(0,this.length-n(this));var r=this.length-t.length;return this.substr(r)===t?this.substr(0,r):this.toString()},String.prototype.Ma=function(t){if(void 0===t)t=n(this)||1;else if("number"!=typeof t)throw new Error("Invalid parameter type for String.count: "+typeof t);return this.substr(0,this.length-t)},String.prototype.startsWith||(String.prototype.startsWith=function(t){return this.substr(0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.substr(this.length-t.length)===t}),String.prototype.format=function(t){if("%"!==this[0])throw new Error("Invalid format: "+this.toString());var r,i=this.slice(1,-1),n=0,o=this.slice(-1);switch(o){case"d":case"x":var e=" ";"0"===i[n]&&(n++,e="0");var h=parseInt(i.substr(n));r=t.toString("x"===o?16:10);for(var s=h-r.length;s>0;s--)r=e+r;return r;case"f":var u="";if("+"===i[n]&&(n++,t>0&&(u="+")),"."!==i[n++])break;var a=parseInt(i.substr(n));return u+t.toFixed(a)}throw new Error("Unknown format: "+this.toString())},String.prototype.rc=function(t,r){return this>=t&&this<=r},i.sc=function(t,r){for(var i=new Array(t),n=t-1;n>=0;n--)i[n]=r;return i},i.sa=function(t,r,n){for(var o=new Array(t),e=o[0]=i.sc(r,n),h=t-1;h>=1;h--)o[h]=e.concat();return o},Array.prototype.tc=function(t){for(var r=this.length,i=0;i<t.length;i++){var n=t[i];this.indexOf(n)===-1&&this.push(n)}return this.length-r}},{}],8:[function(t,r,i){"use strict";function n(){this.level=NaN,this.uc=null,this.vc=e,this.wc=h,this.xc=s,this.ERROR=u,this.yc=a,this.zc=!1,this.eb=!1}var o=console,e=0,h=1,s=2,u=3,a=4;r.exports=n,n.prototype.Ac=function(t){t!==this.level&&(this.level=t,this.debug=t<=e?this.Bc:null,this.info=t<=h?this.Cc:null,this.warn=t<=s?this.Dc:null,this.error=t<=u?this.Ec:null,this.fatal=t<=a?this.Fc:null)},n.prototype.Gc=function(t){this.uc=t},n.prototype.Bc=function(t){this.Hc(e,o.debug,t)},n.prototype.Cc=function(t){this.Hc(h,o.info,t)},n.prototype.Dc=function(t){this.Hc(s,o.warn,t)},n.prototype.Ec=function(t){this.Hc(u,o.error,t)},n.prototype.Fc=function(t){this.Hc(a,o.error,t)},n.prototype.Hc=function(t,r,i){t<this.level||this.uc&&!this.uc(t,i)||r.call(o,i)}},{}],9:[function(t,r,i){"use strict";var n=t("./hh/Logger"),o=new n;o.Ac(o.wc),r.exports=o},{"./hh/Logger":8}],10:[function(t,r,i){"use strict";function n(t){this.Ic=t.group.G,this.Jc=[t],t.Kc=this}function o(t){return"#"+t.group.G}var e=t("../log");r.exports=n,n.prototype.toString=function(){return this.Jc.map(o).toString()},n.prototype.Lc=function(t){if(!t.Kc)return e.debug&&this.toString(),this.Jc.push(t),void(t.Kc=this);if(t.Kc.Ic!==this.Ic){e.debug&&(t.Kc.toString(),this.toString());for(var r=t.Kc.Jc,i=r.length-1;i>=0;i--)this.Jc.push(r[i]),r[i].Kc=this}},n.prototype.remove=function(t){var r=this.Jc.indexOf(t);if(r<0)throw new Error("Band.remove on wrong Band");this.Jc.splice(r,1),t.Kc=null,e.debug&&this.toString()},n.Mc=function(t){if(1===t.length)throw new Error("add Band of 1");for(var r=null,i=0;i<t.length;i++)if(t[i].Wa.Kc){r=t[i].Wa.Kc;break}var o=0;for(r||(r=new n(t[o++].Wa)),i=o;i<t.length;i++)r.Lc(t[i].Wa)}},{"../log":9}],11:[function(t,r,i){"use strict";function n(){this.version="chuckie",this.Qc=!1,this.Sa=null,this.Rc=null,this.Sc=[],this.Tc=null,this.Uc=[0,0],this.Vc=null,this.Wc=null}function o(t){return t>1&&t<2?t-1:t}function e(t){if(!(t[S]===t[m]||t[S]>=x&&t[m]>=x))return t[S]=o(t[S]),t[m]=o(t[m]),t[S]>t[m]?S:m}function h(t,r){for(var i=0;i<r.length;i++){var n=r[i];l.debug&&(t.name,n.group.G),n.wd()!==E&&(r[i]=null)}var o=0;for(i=0;i<r.length;i++)r[i]&&(r[i].xd(t.name+": liveliness="+r[i].yd.toFixed(4)),o++);return o}function s(t,r){for(var i=0;i<r.length;i++)r[i].xd(t.name);return r.length}function u(){return 0}var a=t("../constants"),f=t("../Goban"),c=t("../Grid"),p=t("./GroupInfo"),l=t("../log"),d=t("../Move"),g=t("./Void"),v=t("./ZoneFiller"),b=d.Ra,y=a.EMPTY,w=a.i,S=a.ub,m=a.vb,x=p.Nc,E=p.Oc,j=p.Pc;r.exports=n,n.prototype["countScore"]=function(t,r,i){l.debug;var n=c.La(t);this.Sa&&n===this.Sa.j?this.Sa.clear():this.Sa=new f(n),this.Sa.J(t),this.Rc&&n===this.Rc.j||(this.Rc=new c(n,w)),this.Qc=!r,this.Vc=r||[0,0],this.Xc=i,this.Uc[S]=this.Uc[m]=0,this.Yc(),this.Zc()},n.prototype["getScoringGrid"]=function(){return this.Rc.m},n.prototype["getScoreInfo"]=function(){var t=this.Uc,r=this.Vc,i=this.Xc;return[[t[S]+r[m],t[m]+r[S]+i],[[t[S],r[m],0],[t[m],r[S],i]]]},n.prototype.$c=function(t){return this.Rc.m[t.pa][t.oa]},n.prototype.H=function(){return this.Rc.H()},n.prototype.M=function(){for(var t,r="Grid:\n"+this.Rc.N()+"Voids:\n",i=this.Sc,n=0;t=i[n],n<i.length;n++)r+=t.toString()+"\n";r+="Groups:\n";for(var o in this.Tc)r+=this.Tc[~~o].toString()+"\n";return this.Uc&&(r+="Score:"+this.Uc.map(function(t,r){return" player "+r+": "+t+" points"})),r},n.prototype.Yc=function(){return this.Wc=new v(this.Sa,this.Rc),this.Rc.Ia(this.Sa),this._c(),this.ad(),this.bd(),!0},n.prototype.Zc=function(t){this.dd(),this.ed(t),this.fd(),this.gd()},n.prototype.hd=function(t,r){var i=this.Tc[t.G];i||(t.Wa&&t.Wa.jd===this?t.Wa.kd():t.Wa=new p(t,this),i=this.Tc[t.G]=t.Wa),i.ld.push(r)},n.prototype._c=function(){l.debug;var t=c.Aa;this.Tc={},this.Sc.length=0;for(var r,i,n=this.Sa,o=new g(n,t++),e=1;e<=n.j;e++)for(var h=1;h<=n.j;h++){var s=this.Wc.md(h,e,y,o);if(0!==s){this.Sc.push(o);for(var u=S;u<=m;u++)for(i=o.nd[u],r=i.length-1;r>=0;r--)this.hd(i[r],o);o=new g(n,t++)}}},n.prototype.ad=function(){for(var t in this.Tc)this.Tc[~~t].od()},n.prototype.bd=function(){l.debug;for(var t=this.Sc,r=t.length,i=r-1;i>=0;i--)t[i].pd();for(var n;;){for(n=!1,i=r-1;i>=0;i--)t[i].qd()&&(n=!0);if(!n)break}for(i=r-1;i>=0;i--)t[i].rd()},n.prototype.dd=function(){if(!this.Qc){var t=this.Sa;if(!(t.Z()<2*t.j))for(var r=[0,0],i=[0,0];;){for(var n=!1,o=this.Sc.length-1;o>=0;o--){var h=this.Sc[o];if(void 0===h.color&&!(h.sd>2*t.j)){r[S]=r[m]=i[S]=i[m]=0;for(var s=S;s<=m;s++)for(var u=h.nd[s].length-1;u>=0;u--){var a=h.nd[s][u].Wa;r[s]+=a.td(),i[s]+=a.ud()}if(!(i[S]>4&&i[m]>4)){var f=e(r);void 0!==f?(l.debug&&(b(f),r[f].toFixed(4),r[1-f].toFixed(4)),h.vd(f),n=!0):l.debug&&r[0]}}}if(!n)break}}};var G={name:"brothers",zd:p.prototype.Ad},W={name:"singleEye",zd:p.prototype.Bd,Cd:h},M={name:"race",zd:p.prototype.wd,Cd:u},k={name:"atari",zd:p.prototype.Dd},T={name:"final",zd:p.prototype.Ed},U=[G,k,W,M,T];n.prototype.Fd=function(t,r){l.debug&&t.name;var i=0,n=0,o=[];for(var e in this.Tc){var h=this.Tc[~~e];if(!h.Gd&&!h.Hd)switch(n++,t.zd.call(h,r)){case E:o.push(h);break;case j:i++}}return o.length&&(i+=t.Cd?t.Cd(t,o):s(t,o)),l.debug&&i&&t.name,i===n?0:0===i?n:-i},n.prototype.ed=function(t){if(!this.Qc){for(var r,i=0;i<U.length;){if(0===(r=this.Fd(U[i++],t)))return void this.bd();r<0&&(i=0,this.bd())}l.debug}},n.prototype.fd=function(){for(var t=[],r=this.Sc.length-1;r>=0;r--){var i=this.Sc[r];t[S]=t[m]=!1;for(var n=S;n<=m;n++)for(var o,e=i.nd[n],h=0;o=e[h],h<e.length;h++)if(this.Qc||o.Wa.td()>=2){t[n]=!0;break}t[S]&&t[m]?i.Id():this.Qc&&(i.color=t[S]?S:m)}},n.prototype.gd=function(){this.Jd(),this.Kd(),this.Ld()},n.prototype.Jd=function(){if(this.Qc)for(var t in this.Tc){var r=this.Tc[~~t].group;this.Uc[r.color]+=r.ha.length}},n.prototype.Kd=function(){if(!this.Qc)for(var t in this.Tc){var r=this.Tc[~~t];if(r.Hd){for(var i=!1,n=r.Md.length-1;n>=0;n--)if(!r.Md[n].Wa.Hd){i=!0;break}var o=r.group.color;if(!r.Md.length||i){var e=r.group.ha[0],h=this.Wc.md(e.oa,e.pa,o,c.Da+o);this.Vc[o]+=h,this.Uc[1-o]+=h}else for(var s=r.ld.length-1;s>=0;s--)r.ld[s].vd(o)}}},n.prototype.Ld=function(){for(var t=this.Rc.m,r=[],i=this.Sc.length-1;i>=0;i--){var n=this.Sc[i],o=n.Nd(this.Qc?null:r);if(o){this.Uc[n.color]+=o-r.length,this.Wc.md(n.oa,n.pa,n,c.Ea+n.color);for(var e=r.length-1;e>=0;e--){var h=r[e];t[h.pa][h.oa]=c.Ca}}else this.Wc.md(n.oa,n.pa,n,c.Ca)}}},{"../Goban":1,"../Grid":2,"../Move":4,"../constants":6,"../log":9,"./GroupInfo":13,"./Void":14,"./ZoneFiller":15}],12:[function(t,r,i){"use strict";function n(t,r){this.Od=t,this.nd=[],this.color=r[0].color,this.Pd=!1,this.Qd(r)}r.exports=n,n.prototype.Qd=function(t){for(var r=this.nd,i=t.length-1;i>=0;i--){var n=t[i];r.indexOf(n)<0&&r.push(n)}}},{}],13:[function(t,r,i){"use strict";function n(t,r){this.jd=r,this.Rd=[],this.ld=[],this.Sd=[],this.Md=[],this.Td=[0,0],this.Ud=[],this.Vd=[],this.Wd=[],this.group=t,this.kd()}function o(t){return t>l?t>d?"ALWAYS":"SOMETIMES":"NEVER"}function e(t,r,i){for(var n=r.length-1;n>=0;n--)for(var o=r[n].Wa,e=t.length-1;e>=0;e--)if(!(t[e].indexOf(o)<0)){i!==-1&&i!==e?(t[i]=t[i].concat(t[e]),t.splice(e,1),e<i&&i--):i=e;break}return i}function h(t,r,i,n){var o=-1;o=e(t,i,o),o=e(t,n,o),o<0?t.push([r]):t[o].push(r)}function s(t,r,i){switch(t){case 4:return 4===r[2];case 5:return 1===r[3]&&3===r[2];case 6:if(2===r[3]&&4===r[2]){for(var n=0,o=0;o<6;o++)if(!i[o].Lb()&&++n>2)return!1;return!0}return 1===r[4]&&3===r[2]&&2===r[1];default:return!1}}function u(t){return.0202===t||1.0202===t}var a=t("../constants"),f=t("./Band"),c=t("../log"),p=a.EMPTY,l=a.NEVER,d=a.Vb,g=a.ALWAYS,v=a.Qb,b=a.Rb;r.exports=n;var y=n.Oc=-1,w=n.Pc=1,S=n.Xd=0,m=n.Nc=1e3;n.prototype.kd=function(){this.Yd=this.yd=0,this.Rd.length=0,this.ld.length=0,this.Kc=null,this.Gd=this.Hd=!1,this.Zd=void 0,this.$d=void 0,this.Sd.length=0,this.Md.length=0,this.Td[v]=this.Td[b]=0,this.Ud.length=0,this.Vd.length=0,this.Wd.length=0,this._d=0},n.ae=function(t){return"#"+t.group.G},n.prototype.toString=function(){var t=this.Kc?this.Kc.toString():"";return this.group.toString()+" (isAlive:"+this.Gd+" isDead:"+this.Hd+" voids:"+this.Rd.length+" brothers:["+t+"] deadEnemies:["+this.Sd.map(n.ae)+"])"},n.prototype.be=function(t){return c.debug,this.Rd.push(t),this.Yd++,this},n.prototype.ce=function(t){var r=this.Rd.indexOf(t);if(r===-1)throw new Error("remove unknown void");c.debug,this.Rd.splice(r,1),this.Yd--},n.prototype.od=function(){for(var t=this.group,r=t.color,i=[],n=[],o=[],e=t.ab(),h=e.length-1;h>=0;h--)for(var s=e[h],u=s.bb,a=null,c=u.length-1;c>=0;c--){var p=u[c];if(p.color===r&&p.group!==t){a=p.group;var l=i.indexOf(a);l>=0?o[l]!==s&&(n[l]=!1):(i.push(a),n.push(!0),o.push(s))}}if(i.length){for(var d=i.length-1;d>=0;d--)if(n[d]){var g=o[d],v=this.jd.$c(g).de(g,[t,i[d]]);this.Ud.push(v),this.Vd.push(i[d])}else this.Wd.push(i[d]);i.push(t),f.Mc(i)}},n.ee=function(t){return"subband["+t.length+" groups: "+t.map(function(t){return t.group.toString(1)}).join(", ")+"]"},n.prototype.fe=function(t){for(var r=[],i=this.Vd.length-1;i>=0;i--)this.Ud[i].Od!==t&&r.push(this.Vd[i]);return r},n.prototype.ge=function(t,r){for(var i,n=[],o=t.length-1;o>=0;o--){var e=t[o].Wa,s=e.Kc;if(s){if(s===i)continue;i=s;for(var u=s.Jc.length-1;u>=0;u--){var a=s.Jc[u];h(n,a,a.Wd,a.fe(r))}}else n.push([e])}return n},n.prototype.he=function(t){var r=this.Kc;if(!r)return[];for(var i=[],n=r.Jc.length-1;n>=0;n--){var o=r.Jc[n];o!==this&&h(i,o,o.Wd,o.fe(t))}return i},n.prototype.ie=function(){if(this.Yd>=2)return l;var t=this.je();return t>=3?l:0===t?g:d},n.prototype.ke=function(){if(this.ie()===l)return!1;if(this.Wd.length)return!1;for(var t=this.group.color,r=0,i=0,n=this.ld.length-1;n>=0;n--){var o=this.ld[n];o.color===t&&0!==o.le&&(r++,o.le>=3&&i++,this.Sd.length&&i++)}return!(r+i>=2)},n.prototype.xd=function(t){this.Hd=!0;for(var r=this.ld,i=this.group.color,n=1-i,o=null,e=r.length-1;e>=0;e--){var h=r[e],s=h.nd[n],u=0;if(s.length){for(var a=s.length-1;a>=0;a--)u+=s[a].ha.length;h.sd>u||(h.vd(n),o=h)}}if(!o)return void c.debug;for(var f=this.Md=this.group.cb(),p=f.length-1;p>=0;p--){var l=f[p];l.Wa.Sd.push(this);for(var d=p-1;d>=0;d--){var g=f[d],v=g.Wa;if(v.Vd.indexOf(l)===-1){v.Vd.push(l);var b=o.de(o.me[0],[l,g]);v.Ud.push(b)}}}c.debug},n.prototype.td=function(t){if(this.Gd||this.Yd>=2&&!this.Hd)return m;for(var r,i=0,n=this.group.color,o=this.group.na,e=this.ld.length-1;e>=0;e--){var h=this.ld[e],s=h.sd;if(h.ne)h.ne===this&&(i+=s);else{var u=h.nd[n];if(1===u.length)i+=s;else{var a=this.group.G,f=a;for(r=u.length-1;r>=0;r--)f=Math.min(u[r].G,f);a===f&&(i+=s)}}}if(i=Math.min(o,i)/100,t||(i+=o/1e4),this.Hd)return 0+i;var p=0,l=0;if(!t&&this.Kc){var d=this.Kc.Jc;for(r=d.length-1;r>=0;r--)d[r]!==this&&(l+=d[r].td(!0))}if(!t){var d=this.Wd;for(r=d.length-1;r>=0;r--)p+=d[r].Wa.td(!0);for(d=this.Vd,r=d.length-1;r>=0;r--)p+=d[r].Wa.td(!0)}return p!==l&&(c.debug,p=l),this.Yd+p+i},n.prototype.oe=function(t){if(this.Yd>1)return g;if(0===this.Yd)return l;var r=this.Rd[0],i=r.sd;if(i>6)return g;var n=this.group,o=n.color;if(i<3&&!r.nd[1-o].length)return l;c.debug;for(var e,h=null,u=0,a=0,f=0,v=null,b=null,y=0,w=r.me,S=!1,m=[0,0,0,0,0],x=0;x<i;x++){for(var E=w[x],j=0,G=0,W=0,M=E.bb.length-1;M>=0;M--){var k=E.bb[M];switch(k.color){case p:W++;break;case o:G++;break;default:if(1===k.group.na){W++,y+=2;break}j++,v?k.group!==v&&(b=k.group):v=k.group}}if(j){if(W+(G?1:0)<2)continue}else if(y++,e=E,m[W]++,W<2)continue;if(c.debug,f++,E.Jb()&&(S=!0),h&&!h.Jb()){if(j<a)continue;if(W+j<=u+a)continue}h=E,a=j,u=W}if(S&&f>1&&f--,c.debug,!h)return l;if(1===y&&!b&&v&&v.ha.length<3&&this.pe(v,e,h))return l;if(f>=2){if(a)return g;if(!s(i,m,w))return g}return t[0]=h.oa,t[1]=h.pa,d},n.prototype.pe=function(t,r,i){for(var n=r.bb.length-1;n>=0;n--){var o=r.bb[n];if(o.color===p&&o!==i&&o.Pb(t))return!0}return!1},n.prototype.Ad=function(){if(!this.Kc)return S;for(var t=this.Kc.Jc,r=0,i=!1,n=t.length-1;n>=0;n--){var o=t[n];o!==this&&(i||o.Gd?i=o.Gd=!0:(r+=o.Yd)>=2&&(i=o.Gd=!0))}return i?(c.debug,this.Gd=!0,w):S},n.prototype.qe=function(){if(this.Kc)return!1;if(this.group.ha.length>=6)return!1;for(var t=this.ld.length-1;t>=0;t--)if(this.ld[t].color===this.group.color)return!1;return!0},n.prototype.Bd=function(t){if(this.Yd>=2)return this.Gd=!0,c.debug,w;if(this.qe())return y;var r=[],i=this.oe(r);if(i===d){if(this._d=.5,void 0===t)return S;t!==this.group.color&&(i=l)}return i===l?(this._d=0,this.Kc||this.Sd.length?S:this.re()>=1.5?S:(this.yd=this.td(),y)):(this.Gd=!0,this._d=1,c.debug&&o(i),w)},n.prototype.wd=function(){var t=this.group.cb();if(!t.length)return y;for(var r=this.yd||this.td(),i=u(r)&&!this.Vd.length&&!this.Wd.length,n=null,o=i?this.group.ab():null,e=0;e<t.length;e++){var h=t[e],s=h.Wa,a=s.td(),f=r-a;if(c.debug&&(this.group.G,r.toFixed(4),a.toFixed(4),h.G),f>0)return c.debug,this.$d=!1,S;if(0===f&&(c.debug&&this.group,i)){if(s.$d===!1||a!==r||h.ha.length<3)continue;for(var p=o.length-1;p>=0;p--){var l=o[p];if(!l.Pb(h)&&this.jd.$c(l).ne!==this){i=!1;break}}i&&(n=s)}}return i&&n?(this.$d=!0,S):y},n.prototype.Dd=function(){return this.group.na>1?S:y},n.prototype.Ed=function(){var t=this.yd=this.td();if(t>=2)return this.Gd=!0,c.debug,w;if(this.$d)return this.Gd=!0,c.debug,w;for(var r=this.Vd.length-1;r>=0;r--)if(this.Vd[r].Wa.Gd)return this.Gd=!0,c.debug&&this.Vd[r],w;return y},n.prototype.se=function(t,r){if(this.Kc){for(var i=this.Kc.Jc,n=0,o=i.length-1;o>=0;o--)n+=t.call(i[o],r);return n}return t.call(this,r)},n.prototype.te=function(t,r){this.Td[t]+=r},n.prototype.ue=function(){for(var t=1-this.group.color,r=this.ld.length-1;r>=0;r--){if(this.ld[r].color!==t)return!1}return!0},n.prototype.ve=function(){for(var t=this.group.color,r=this.ld.length-1;r>=0;r--){var i=this.ld[r];if(void 0===i.color)for(var n=i.nd[1-t],o=n.length-1;o>=0;o--){var e=n[o],h=e.Wa.ud();if(h<6)return 1}}return 0},n.prototype.je=function(){return this.Yd+this._d+this.ve()+(this.Td[v]+this.Td[b])/2},n.prototype.re=function(){return this.se(this.je)},n.prototype.we=function(){return this.group.ha.length},n.prototype.ud=function(){return this.se(this.we)}},{"../constants":6,"../log":9,"./Band":10}],14:[function(t,r,i){"use strict";function n(t,r){this.Sa=t,this.code=r,this.oa=this.pa=0,this.sd=0,this.nd=null,this.me=null,this.xe=void 0,this.color=void 0,this.ne=void 0,this.ye=!1,this.ze=!1,this.le=-1,this.Ud=null,this.Ae=!1}function o(t){return t?g[t]:g[0]}function e(t){for(var r=t.length-1;r>=0;r--)if(!t[r].Wa.Hd)return!1;return!0}function h(t){return"#"+t.G}var s=t("../constants"),u=t("./FakeSpot"),a=t("../log"),f=t("../Move"),c=f.Ra,p=f.Bb,l=s.ub,d=s.vb,g=["void","eye","fake","dame"];r.exports=n,
n.prototype.Be=function(t,r){return this.oa=t,this.pa=r,this.Ud=[],this.nd=[[],[]],this.me=[],this.nd},n.prototype.Ce=function(t,r){this.sd++,this.me.push(this.Sa.V(t,r))},n.prototype.de=function(t,r){a.debug&&r.map(function(t){return t.G}),this.ze=!0;var i=this.me.indexOf(t),n=this.Ud[i];return n?n.Qd(r):n=this.Ud[i]=new u(t,r),n},n.prototype.pd=function(){var t=this.nd[l],r=this.nd[d],i=e(t),n=e(r);if(i&&n)return!this.ye&&void 0!==this.color&&this.De();if(1===this.xe)return!1;if(!i&&!n)return!1;var o=i?d:l;return this.Ae=!t.length||!r.length,this.ze?this.Ee(o):(this.le=this.sd,this.Fe(o))},n.prototype.Ee=function(t){this.xe=2,this.color=t,this.ne&&(this.ne.ce(this),this.ne=null);for(var r=this.Ud.length-1;r>=0;r--){var i=this.Ud[r];i&&(i.Pd=!1)}return!0},n.prototype.qd=function(){if(2!==this.xe)return!1;var t=this.le,r=this.le=this.sd-this.Ge();return a.debug,r!==t},n.prototype.Ge=function(t){t||(t=[]);for(var r=this.Ud.length-1;r>=0;r--){var i=this.Ud[r];if(i&&i.color===this.color)for(var n=i.nd,o=n.length-1;o>=0;o--)if(n[o].Wa.ke()){a.debug&&!i.Pd&&i.Od,i.Pd=!0,t.push(i.Od);break}}return t.length},n.prototype.Pd=function(t){for(var r=this.Ud.length-1;r>=0;r--){var i=this.Ud[r];if(i&&i.color===this.color&&i.Od===t)return i.Pd}return!1},n.prototype.rd=function(){if(2===this.xe){if(0===this.le){if(this.ne)throw new Error("NEVER HAPPENS");return void a.debug}a.debug;var t=this.color;return this.color=this.xe=void 0,this.Fe(t)}},n.prototype.Fe=function(t){return this.Ae?(this.He(t),!0):this.vd(t)},n.prototype.Ie=function(t){for(var r=this.nd[t],i=r[0],n=0,o=r.length-1;o>=0;o--){var e=r[o],h=e.ha.length;e.na>1&&h>n&&(i=e,n=h)}this.ne=i.Wa.be(this)},n.prototype.He=function(t){return a.debug&&c(t),this.xe=1,this.color=t,this.Ie(t),!0},n.prototype.vd=function(t){if(t===this.color)return!1;a.debug&&c(t),this.ne&&(this.ne.ce(this),this.ne=null),this.color=t;for(var r=this.nd[1-t],i=r.length-1;i>=0;i--)for(var n=r[i].Wa.ld,o=n.length-1;o>=0;o--)if(n[o]!==this&&n[o].color===t)return!0;return this.Ie(t),!0},n.prototype.Id=function(){a.debug,this.ne&&(this.ne.ce(this),this.ne=null),this.xe=3,this.color=void 0},n.prototype.De=function(){a.debug;var t=this.color;if(void 0===t)throw new Error("dead group's eye of undefined owner");this.ye=!0,this.ze=!1,this.ne&&(this.ne.ce(this),this.ne=null),this.xe=1,this.color=1-t;for(var r=this.nd[t],i=r.length-1;i>=0;i--){var n=r[i].Wa;if(n.Md.length)return this.ne=n.Md[0].Wa.be(this),!0}return!0},n.prototype.Nd=function(t){return void 0===this.color?0:(t&&(t.length=0,this.ze&&this.Ge(t)),this.sd)},n.prototype.Je=function(t){var r=t.group;return this.nd[r.color].indexOf(r)>-1},n.prototype.toString=function(){return"{"+o(this.xe)+"-"+p(this.oa,this.pa)+" vcount:"+this.sd+" black:"+(this.nd[l].map(h).toString()||"-")+" white:"+(this.nd[d].map(h).toString()||"-")+"}"}},{"../Move":4,"../constants":6,"../log":9,"./FakeSpot":12}],15:[function(t,r,i){"use strict";function n(t,r){this.Sa=t,this.m=r.m,this.nd=null,this.Ke=null}var o=t("../constants"),e=o.i;r.exports=n,n.prototype.md=function(t,r,i,n){if(this.m[r][t]!==i)return 0;this.Ke=i;var o="number"!=typeof n?n:null;this.nd=o&&o.Be(t,r);for(var e,h,s,u=0,a=this.m,f=[[t,r,r]];e=f.pop();)if(h=e[0],r=e[1],s=e[2],a[r][h]===i){for(;this.Le(h,r-1);)r--;for(;this.Le(h,s+1);)s++;u+=s-r+1;for(var c=h-1;c<=h+1;c+=2){for(var p=null,l=r;l<=s;l++)c<h&&(a[l][h]=n,o&&o.Ce(h,l)),this.Le(c,l)?p||(p=l):p&&(f.push([c,p,l-1]),p=null);p&&f.push([c,p,s])}}return u},n.prototype.Le=function(t,r){var i=this.m[r][t];if(i===e)return!1;if(i===this.Ke)return!0;if(!this.nd)return!1;if("number"!=typeof i)return!1;var n=this.Sa.V(t,r).group;if(!n)throw new Error("Unexpected: ZoneFiller replacing a group");var o=this.nd[i];return o.indexOf(n)===-1&&o.push(n),!1}},{"../constants":6}],16:[function(t,r,i){"use strict";function n(){this.debug=!1,this.Me=this.Ne=!1,this.Oe=null,this.Pe=null}r.exports=new n,n.prototype.Qe=function(t,r){this.Oe=new t,r(this.Oe)},n.prototype.assert=function(t,r){if(t!==!0)throw new Error("assertion failed: "+(r||t))}},{}]},{},[11])(11)});